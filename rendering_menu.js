function _0xf716(){const _0x36af58=['warn','rgba(0,\x200,\x20139,\x200.5)','message','!!!\x20CRITICAL\x20ERROR\x20IN\x20mainLoop:','toUpperCase','alpha','STAGE\x20','forEach','7yEBlIc','map','Critical\x20error:\x20Game\x20logic\x20(window.resetGame)\x20not\x20loaded\x20correctly!','font','state','bold\x20','Error\x20returning\x20to\x20menu.\x20Please\x20refresh\x20the\x20page.','fillText','PUSH\x20START\x20BUTTON','source-over','Error\x20starting\x20auto\x20demo\x20timer:','size','4AXAQZH','PAUSED','⚠️\x20Disclaimer','buttons','original\x20Galaga\x20concept,','length','atan2','coop','defineNormalWaveEntrancePaths','lineTo','height','source-atop','number','click','PLAYERS\x20READY!','-\x20RESULTS\x20-','closePath','Error\x20in\x20showMenuState:','white','18px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif','arc','CHALLENGING\x20STAGE','green','purple','Error\x20in\x20pollControllerForMenu:','isArray','touch','GAME\x20Vs\x20AI','padStart','tintProgress','move','STAGE','rotate','px\x20Arial,\x20sans-serif','cyan','suspended','FATAL\x20RENDER\x20ERROR.','TO\x20PLAY\x20GAME','clientY','Error\x20rendering\x20explosions:','undefined','clientX','measureText','rgba(0,\x200,\x200,\x200.8)','mousemove','resume','globalCompositeOperation','push','function','\x201ST\x20LIFE\x20BONUS\x20FOR\x20','20px\x20\x27Press\x20Start\x202P\x27','pointer','beginPath','triggerFinalGameOverSequence','lighter','pressed','object','HIGH\x20SCORE','AI\x20PLAYER','shadowColor','Cannot\x20start\x20game\x20-\x20canvas\x20not\x20ready.','All\x20rights\x20to\x20the','normal','center','capturedShipDimensions','error','addColorStop','rotation','\x20PTS','AI\x20PLAYER\x201','axes','startsWith','clearRect','STAGE\x20CLEARED','defineNormalWaveEntrancePaths\x20not\x20found!','middle','ROTATE\x20TO\x20LANDSCAPE','FIGHTER\x20CAPTURED!','cos','2191428WolZvO','fillRect','2025\x20\x20\x20Platini2000(c)\x20\x20\x20LTD','toFixed','getGamepads','GAME\x20OVER','Design,\x20and\x20sounds','5386488KjiYLS','runSingleGameUpdate','skipAfter','mouse','slice','yellow','Error\x20in\x20renderGame:','right','width','moveTo','Critical\x20error\x20starting\x20game!','SCORE','random','textAlign','style','</p></div>','type','EASY','\x202ND\x20LIFE\x20BONUS\x20FOR\x20','fillStyle','add','fill','PLAYER\x20&\x20AI\x20READY!','left','PLAYER\x201','PLAYER\x202','shadowOffsetX','Error\x20drawing\x20enemy:','addEventListener','showing_capture_message','start','NORMAL','globalAlpha','hasCapturedShip','20px\x20sans-serif','1272273oKpNxX','bold\x2018px\x20\x27Press\x20Start\x202P\x27','fan\x20remake\x20of\x20Galaga,','val','explosionSound','AI\x20PLAYERS\x20READY!','loadHighScore','defineChallengingStagePaths','7078352ELFlHh','innerHTML','FATAL:\x20window.resetGame\x20function\x20is\x20not\x20defined\x20or\x20not\x20a\x20function!\x20Cannot\x20start\x20game\x20properly.','drawImage','load','AI\x20P1','round','translate','<p\x20style=\x22color:white;\x22>Error\x20returning\x20to\x20menu.\x20Please\x20refresh.</p>','This\x20is\x20an\x20unofficial','Error\x20stopping\x20auto\x20demo\x20timer:','START\x20GAME','stack','has','skip','grey','max','lime','AI\x20PLAYER\x202','keyup','CO-OP\x20GAME','menuMusicSound','startMainLoop','none','velocityX','initializeDOMElements\x20function\x20not\x20found!','orange','particles','sqrt','startSound','single','EXTRA\x20LIFE','LOGO','Failed\x20to\x20return\x20to\x20menu\x20after\x20loop\x20error:','AudioContext\x20resumed\x20by\x20canvas\x20click.','Created\x20out\x20of\x20love','FATAL\x20INITIALIZATION\x20ERROR:','blue','targetX','createLinearGradient','30px\x20Arial','15783510Mtrzhu','resize','abs','cursor','close','naturalHeight','naturalWidth','belong\x20to\x20Bandai\x20Namco.','restore','getBoundingClientRect','textBaseline','red','9QfPDoi','1UP','text','SPECIAL\x20BONUS\x2010000\x20PTS','complete','BONUS\x20','sin','min','PERFECT!','toString','PLAYER\x20','actualBoundingBoxDescent','1P_VS_AI_NORMAL','shadowBlur','1870970EITwGG','top','NORMAL\x20GAME','NUMBER\x20OF\x20HITS','Error\x20creating\x20explosion:','Written\x20By\x20Platini2000(c)','velocityY','displayStartTime','FATAL:\x20window.runSingleGameUpdate\x20is\x20not\x20defined!','Error\x20in\x20baseStartGame:','rgba(0,\x20191,\x20255,\x200.9)','log','touches','captureAnimationRotation','1P_VS_AI_COOP','normal\x20','DOM\x20element\x20initialization\x20failed.','gamepaddisconnected','now','window.close()\x20failed:','<div\x20style=\x22color:white;\x20padding:\x2020px;\x20font-family:\x20sans-serif;\x22><h1>Fatal\x20Initialization\x20Error</h1><p>The\x20game\x20could\x20not\x20be\x20started.\x20Please\x20check\x20the\x20browser\x20console\x20(F12)\x20for\x20details.</p><p>Error:\x20','CLASSIC_1P','756442GNrLSa','color','WINS','defineChallengingStagePaths\x20not\x20found!','end','2UP','body','gamepadconnected','AI\x20P2','capturedShipY','match','floor','entranceSound','attacking','saveHighScore','rapid','actualBoundingBoxAscent','capturedShipX','resetGame','NUMBER\x20OF\x20HITS\x20','save','for\x20the\x20original.'];_0xf716=function(){return _0x36af58;};return _0xf716();}const _0x35d30c=_0x13d2;(function(_0x54bb23,_0x2a50ea){const _0x3e6831=_0x13d2,_0xff7312=_0x54bb23();while(!![]){try{const _0x315dc1=parseInt(_0x3e6831(0x1b2))/0x1+parseInt(_0x3e6831(0x1dc))/0x2*(-parseInt(_0x3e6831(0x255))/0x3)+-parseInt(_0x3e6831(0x22b))/0x4+-parseInt(_0x3e6831(0x19c))/0x5+-parseInt(_0x3e6831(0x232))/0x6*(parseInt(_0x3e6831(0x1d0))/0x7)+-parseInt(_0x3e6831(0x159))/0x8*(-parseInt(_0x3e6831(0x18e))/0x9)+parseInt(_0x3e6831(0x182))/0xa;if(_0x315dc1===_0x2a50ea)break;else _0xff7312['push'](_0xff7312['shift']());}catch(_0x1f16c7){_0xff7312['push'](_0xff7312['shift']());}}}(_0xf716,0x86ab6));const MENU_LOGO_APPROX_HEIGHT=0x55,MENU_SUBTITLE_TEXT=_0x35d30c(0x1a1),MENU_SUBTITLE_FONT=_0x35d30c(0x1ef),MENU_SUBTITLE_COLOR=_0x35d30c(0x18d),MENU_BUTTON_FONT='22px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif',MENU_BUTTON_COLOR=_0x35d30c(0x1ee),MENU_BUTTON_COLOR_HOVER=_0x35d30c(0x1a6),MENU_BUTTON_WIDTH=0x12c,MENU_BUTTON_HEIGHT=0x37,MENU_LOGO_BOTTOM_TO_START_GAP=0x5,MENU_BUTTON_V_GAP=-0xf,MENU_BUTTON_SUBTITLE_V_GAP=-0x0,MENU_SCORE_FONT='20px\x20\x27Press\x20Start\x202P\x27',MENU_SCORE_COLOR=_0x35d30c(0x1ee),MENU_SCORE_LABEL_COLOR=_0x35d30c(0x18d),GAME_OVER_FONT=_0x35d30c(0x256),GAME_OVER_COLOR=_0x35d30c(0x1a6),GAME_OVER_SHADOW=!![],DEMO_TEXT_LINE1_FONT='bold\x2018px\x20\x27Press\x20Start\x202P\x27',DEMO_TEXT_COLOR=_0x35d30c(0x1a6),DEMO_TEXT_BLINK_ON_MS=0x3e8,DEMO_TEXT_BLINK_OFF_MS=0x3e8,DEMO_TEXT_BLINK_CYCLE_MS=DEMO_TEXT_BLINK_ON_MS+DEMO_TEXT_BLINK_OFF_MS,LOGO_SCALE_FACTOR=0.45,MENU_LOGO_EXTRA_Y_OFFSET=0x0,MENU_GENERAL_Y_OFFSET=0x4b,INTRO_TEXT_FONT='bold\x2018px\x20\x27Press\x20Start\x202P\x27',INTRO_TEXT_COLOR_NORMAL=_0x35d30c(0x1a6),INTRO_TEXT_COLOR_DARK_YELLOW=_0x35d30c(0x237),INTRO_TEXT_COLOR_CS_TEXT=INTRO_TEXT_COLOR_NORMAL,PERFECT_TEXT_COLOR=_0x35d30c(0x18d),EXTRA_LIFE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,READY_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_BONUS_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_DARK_YELLOW,CS_CLEAR_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_HITS_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_CLEAR_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_FONT=INTRO_TEXT_FONT,PAUSE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_SHADOW=!![],RESULTS_SCREEN_DURATION=0x4e20,PLAYER_GAME_OVER_MESSAGE_DURATION=0x1388,SCORE_SCREEN_TEXT_FONT=INTRO_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP=INTRO_TEXT_COLOR_NORMAL,SCORE_SCREEN_TEXT_COLOR_BONUS=INTRO_TEXT_COLOR_DARK_YELLOW,SCORE_SCREEN_LINE_V_SPACING=0x28,SCORE_SCREEN_ICON_TEXT_H_SPACING=0xf,SCORE_SCREEN_VERTICAL_OFFSET=0x4b,RESULTS_HEADER_COLOR=_0x35d30c(0x18d),RESULTS_VALUE_COLOR_YELLOW=INTRO_TEXT_COLOR_DARK_YELLOW,RESULTS_LABEL_COLOR=_0x35d30c(0x1ee),RESULTS_VALUE_COLOR_CYAN=INTRO_TEXT_COLOR_NORMAL,RESULTS_LINE_V_SPACING_SINGLE=0x23,RESULTS_LINE_V_SPACING_DOUBLE=0x5a,RESULTS_START_Y=0xaf,RESULTS_FOOTER_FONT=MENU_SUBTITLE_FONT,RESULTS_FOOTER_COLOR=RESULTS_HEADER_COLOR,CS_MESSAGE_VERTICAL_OFFSET=0x1e;function _0x13d2(_0x105f72,_0x4d6ec4){const _0xf716fd=_0xf716();return _0x13d2=function(_0x13d252,_0x275a49){_0x13d252=_0x13d252-0x159;let _0x55cd09=_0xf716fd[_0x13d252];return _0x55cd09;},_0x13d2(_0x105f72,_0x4d6ec4);}function getSubtitleApproxHeight(_0x561549){const _0x89cd3e=_0x35d30c,_0x2777d2=_0x561549[_0x89cd3e(0x1bc)](/(\d+)px/);return _0x2777d2?.[0x1]?parseInt(_0x2777d2[0x1],0xa):0x19;}function formatMillisecondsToMMSS(_0x4e8837){const _0x2eed8a=_0x35d30c;if(_0x4e8837<=0x0||typeof _0x4e8837!==_0x2eed8a(0x1e8)||!isFinite(_0x4e8837))return'00:00';const _0x305ee3=Math[_0x2eed8a(0x1bd)](_0x4e8837/0x3e8),_0x30be64=Math['floor'](_0x305ee3/0x3c),_0xa10b2b=_0x305ee3%0x3c,_0x15fdef=String(_0x30be64)[_0x2eed8a(0x1f8)](0x2,'0'),_0x59abef=String(_0xa10b2b)['padStart'](0x2,'0');return _0x15fdef+':'+_0x59abef;}let isTransitioningToDemoViaScoreScreen=![];function getMenuButtonRect(_0x513f04){const _0x4d19da=_0x35d30c;if(!gameCtx||!gameCanvas||gameCanvas[_0x4d19da(0x23a)]===0x0||gameCanvas[_0x4d19da(0x1e6)]===0x0)return null;const _0x1cfc96=gameCanvas[_0x4d19da(0x23a)],_0x248005=gameCanvas[_0x4d19da(0x1e6)],_0x4440de=_0x1cfc96/0x2-MENU_BUTTON_WIDTH/0x2-0x1;let _0x3dca5f=MENU_LOGO_APPROX_HEIGHT;typeof logoImage!=='undefined'&&logoImage[_0x4d19da(0x192)]&&logoImage[_0x4d19da(0x187)]!==0x0&&(_0x3dca5f=logoImage[_0x4d19da(0x187)]*LOGO_SCALE_FACTOR);const _0x3dc2f8=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x435e9e=0x2,_0x111709=_0x3dca5f+MENU_LOGO_BOTTOM_TO_START_GAP+_0x435e9e*MENU_BUTTON_HEIGHT+(_0x435e9e-0x1)*MENU_BUTTON_V_GAP+MENU_BUTTON_SUBTITLE_V_GAP+_0x3dc2f8;let _0x3f99ec=(_0x248005-_0x111709)/0x2-0x46;_0x3f99ec+=MENU_GENERAL_Y_OFFSET;const _0x4a4d8d=_0x3f99ec+_0x3dca5f+MENU_LOGO_BOTTOM_TO_START_GAP,_0x369b17=_0x4a4d8d+_0x513f04*(MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP);if(_0x513f04===0x0||_0x513f04===0x1)return{'x':_0x4440de,'y':Math['round'](_0x369b17),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};return null;}function pollControllerForMenu(){const _0x3f26ac=_0x35d30c;try{audioContext&&audioContext['state']===_0x3f26ac(0x1ff)&&(connectedGamepadIndex!==null||connectedGamepadIndexP2!==null)&&audioContext[_0x3f26ac(0x209)]()['then'](()=>{const _0x776d86=_0x3f26ac;audioContextInitialized=!![],console[_0x776d86(0x1a7)]('AudioContext\x20resumed\x20by\x20controller\x20interaction.');});if(connectedGamepadIndex===null&&connectedGamepadIndexP2===null){joystickMovedVerticallyLastFrame=![];if(previousButtonStates[_0x3f26ac(0x1e1)]>0x0)previousButtonStates=[];if(previousGameButtonStates['length']>0x0)previousGameButtonStates=[];if(previousGameButtonStatesP2[_0x3f26ac(0x1e1)]>0x0)previousGameButtonStatesP2=[];return;}let _0x41413d=connectedGamepadIndex!==null?connectedGamepadIndex:connectedGamepadIndexP2;if(_0x41413d===null)return;const _0x48cb7f=navigator['getGamepads']();if(!_0x48cb7f?.[_0x41413d])return;const _0x1418af=_0x48cb7f[_0x41413d],_0x36bf99=_0x1418af[_0x3f26ac(0x1df)][_0x3f26ac(0x1d1)](_0x355e24=>_0x355e24[_0x3f26ac(0x213)]),_0x30c49f=_0x36bf99,_0x290d15=_0x36bf99;let _0x53b88f=![];const _0x1976e5=Date[_0x3f26ac(0x1ae)]();let _0x4fdb53=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x4fdb53=!![]);if(_0x4fdb53){connectedGamepadIndex!==null&&(previousButtonStates=_0x30c49f[_0x3f26ac(0x236)](),previousGameButtonStates=_0x290d15['slice']());if(connectedGamepadIndexP2!==null){const _0x58ae07=navigator[_0x3f26ac(0x22f)]();_0x58ae07?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x58ae07[connectedGamepadIndexP2][_0x3f26ac(0x1df)]['map'](_0x200d90=>_0x200d90[_0x3f26ac(0x213)]));}return;}if(isInGameState&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0xa86b20=_0x290d15[PS5_BUTTON_TRIANGLE],_0x1fbb91=previousGameButtonStates[PS5_BUTTON_TRIANGLE]??![];if(_0xa86b20&&!_0x1fbb91){if(typeof stopGameAndShowMenu===_0x3f26ac(0x20c))stopGameAndShowMenu();_0x53b88f=!![];}if(!_0x53b88f){const _0x552031=_0x290d15[PS5_BUTTON_R1],_0x5e4776=previousGameButtonStates[PS5_BUTTON_R1]??![];if(_0x552031&&!_0x5e4776){if(typeof togglePause===_0x3f26ac(0x20c))togglePause();_0x53b88f=!![];}}}if(!_0x53b88f){const _0x63570a=isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen;if(_0x63570a){let _0x112f12=![];for(let _0xd15c93=0x0;_0xd15c93<_0x30c49f['length'];_0xd15c93++){if(_0xd15c93===PS5_BUTTON_R1||_0xd15c93===PS5_BUTTON_TRIANGLE)continue;const _0x2953e2=previousButtonStates[_0xd15c93]??![];if(_0x30c49f[_0xd15c93]&&!_0x2953e2){_0x112f12=!![];break;}}if(_0x112f12){if(typeof showMenuState===_0x3f26ac(0x20c))showMenuState();_0x53b88f=!![];}}else{if(!isInGameState&&!_0x53b88f){const _0x211232=_0x30c49f[PS5_BUTTON_CROSS],_0x326158=previousButtonStates[PS5_BUTTON_CROSS]??![],_0x2fd674=_0x30c49f[PS5_BUTTON_CIRCLE],_0x1224cc=previousButtonStates[PS5_BUTTON_CIRCLE]??![],_0x278b87=_0x1418af[_0x3f26ac(0x222)][PS5_LEFT_STICK_Y]??0x0,_0x2f5cc7=_0x30c49f[PS5_DPAD_UP],_0x296547=_0x30c49f[PS5_DPAD_DOWN];let _0x41f1cb=0x0;if(_0x278b87<-AXIS_DEAD_ZONE_MENU||_0x2f5cc7)_0x41f1cb=-0x1;else{if(_0x278b87>AXIS_DEAD_ZONE_MENU||_0x296547)_0x41f1cb=0x1;}let _0x46aa4b=_0x41f1cb!==0x0;if(_0x46aa4b&&!joystickMovedVerticallyLastFrame){let _0x3d145a=selectedButtonIndex;const _0x161a40=0x2;_0x3d145a===-0x1?_0x3d145a=_0x41f1cb===0x1?0x0:_0x161a40-0x1:_0x3d145a+=_0x41f1cb;if(_0x3d145a<0x0)_0x3d145a=_0x161a40-0x1;if(_0x3d145a>=_0x161a40)_0x3d145a=0x0;_0x3d145a!==selectedButtonIndex&&(selectedButtonIndex=_0x3d145a,startAutoDemoTimer());}joystickMovedVerticallyLastFrame=_0x46aa4b;if(_0x211232&&!_0x326158){stopAutoDemoTimer();if(isPlayerSelectMode)selectedButtonIndex===0x0?(isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x0):(isPlayerSelectMode=![],isGameModeSelectMode=!![],isTwoPlayerMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerGameTypeSelectMode)selectedButtonIndex===0x0?(isOnePlayerGameTypeSelectMode=![],isFiringModeSelectMode=!![],selectedOnePlayerGameVariant=_0x3f26ac(0x1b1),isTwoPlayerMode=![],isPlayerTwoAI=![],selectedButtonIndex=0x0):(isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerVsAIGameTypeSelectMode)selectedButtonIndex===0x0?(selectedOnePlayerGameVariant=_0x3f26ac(0x19a),selectedGameMode=_0x3f26ac(0x21a)):(selectedOnePlayerGameVariant='1P_VS_AI_COOP',selectedGameMode=_0x3f26ac(0x1e3)),isOnePlayerVsAIGameTypeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)selectedButtonIndex===0x0?selectedGameMode='normal':selectedGameMode=_0x3f26ac(0x1e3),isGameModeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=![],selectedButtonIndex=0x0;else{if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x3f26ac(0x1c1):selectedFiringMode=_0x3f26ac(0x177),baseStartGame(!![]);else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],selectedButtonIndex=0x0;else selectedButtonIndex===0x1&&exitGame();}}}}}_0x53b88f=!![],startAutoDemoTimer();}if(!_0x53b88f&&_0x2fd674&&!_0x1224cc){stopAutoDemoTimer();if(isFiringModeSelectMode){isFiringModeSelectMode=![];if(selectedOnePlayerGameVariant===_0x3f26ac(0x1b1))isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x0;else{if(selectedOnePlayerGameVariant===_0x3f26ac(0x19a)||selectedOnePlayerGameVariant===_0x3f26ac(0x1aa))isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=selectedOnePlayerGameVariant===_0x3f26ac(0x1aa)?0x1:0x0;else isTwoPlayerMode&&!isPlayerTwoAI?(isGameModeSelectMode=!![],selectedButtonIndex=selectedGameMode==='coop'?0x1:0x0):(isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],selectedButtonIndex=0x0);}selectedOnePlayerGameVariant='',isPlayerTwoAI=![];}else{if(isOnePlayerVsAIGameTypeSelectMode)isOnePlayerVsAIGameTypeSelectMode=![],isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x1;else{if(isOnePlayerGameTypeSelectMode)isOnePlayerGameTypeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)isGameModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x1;else isPlayerSelectMode?(isPlayerSelectMode=![],selectedButtonIndex=0x0):triggerFullscreen();}}}_0x53b88f=!![],startAutoDemoTimer();}}}}connectedGamepadIndex!==null&&(previousButtonStates=_0x30c49f[_0x3f26ac(0x236)](),previousGameButtonStates=_0x290d15[_0x3f26ac(0x236)]());if(connectedGamepadIndexP2!==null){const _0x3b07c7=navigator[_0x3f26ac(0x22f)]();_0x3b07c7?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x3b07c7[connectedGamepadIndexP2][_0x3f26ac(0x1df)][_0x3f26ac(0x1d1)](_0x38cd50=>_0x38cd50[_0x3f26ac(0x213)]));}}catch(_0xb82cc1){console['error'](_0x3f26ac(0x1f4),_0xb82cc1),previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![];}}function initiateScoreScreenThenDemo(){!isInGameState&&!isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen?(isTransitioningToDemoViaScoreScreen=!![],showScoreScreen(),autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null),autoStartTimerId=setTimeout(()=>{const _0x1fc5e4=_0x13d2;if(isShowingScoreScreen){isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],demoModeCounter++;if(demoModeCounter%0x2===0x1){if(typeof startCoopAIDemo===_0x1fc5e4(0x20c))startCoopAIDemo();else startAIDemo();}else startAIDemo();}isTransitioningToDemoViaScoreScreen=![];},SCORE_SCREEN_DURATION)):(autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null),isTransitioningToDemoViaScoreScreen=![]);}function startAutoDemoTimer(){const _0x21b07c=_0x35d30c;try{stopAutoDemoTimer(),isTransitioningToDemoViaScoreScreen=![],autoStartTimerId=setTimeout(()=>{initiateScoreScreenThenDemo();},MENU_INACTIVITY_TIMEOUT);}catch(_0xc675cb){console[_0x21b07c(0x21d)](_0x21b07c(0x1da),_0xc675cb),isTransitioningToDemoViaScoreScreen=![];}}function stopAutoDemoTimer(){const _0x34d905=_0x35d30c;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null),isTransitioningToDemoViaScoreScreen=![];}catch(_0x179ba6){console['error'](_0x34d905(0x163),_0x179ba6);}}function showMenuState(){const _0xeba926=_0x35d30c;try{wasLastGameAIDemo&&(highScore=0x4e20);wasLastGameAIDemo=![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,initialGameStartSoundPlayedThisSession=![],coopStartSoundPlayedThisSession=![],gameJustStartedAndWaveLaunched=![],isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,isManualControl=![],isShowingDemoText=![],isPaused=![],isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],selectedFiringMode=_0xeba926(0x1c1),selectedGameMode='normal',isTwoPlayerMode=![],currentPlayer=0x1,showCsHitsMessage=![],csHitsMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showReadyMessage=![],readyMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,isTransitioningToDemoViaScoreScreen=![],stopAllGameSoundsInternal(),isGridSoundPlaying=![],playerLives=0x3,score=0x0,level=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,scoreEarnedThisCS=0x0,enemies=[],bullets=[],enemyBullets=[],explosions=[],isShowingIntro=![],introStep=0x0,isChallengingStage=![],challengingStageEnemiesHit=0x0,currentGridOffsetX=0x0,gridMoveDirection=0x1,currentWaveDefinition=null,isEntrancePhaseActive=![],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0;typeof enemySpawnTimeouts!==_0xeba926(0x204)&&Array[_0xeba926(0x1f5)](enemySpawnTimeouts)&&enemySpawnTimeouts[_0xeba926(0x1cf)](clearTimeout);enemySpawnTimeouts=[],lastEnemyDetachTime=0x0,selectedButtonIndex=0x0,joystickMovedVerticallyLastFrame=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,forceCenterShipNextReset=![],player1CompletedLevel=-0x1,p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];if(ship&&typeof ship===_0xeba926(0x214)&&ship['hasOwnProperty']('x')&&gameCanvas&&gameCanvas[_0xeba926(0x23a)]>0x0&&gameCanvas['height']>0x0)ship['x']=Math[_0xeba926(0x15f)](gameCanvas['width']/0x2-SHIP_WIDTH/0x2),ship[_0xeba926(0x17f)]=ship['x'],ship['y']=gameCanvas[_0xeba926(0x1e6)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN;else{if(ship!==null){}}clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0),playSound(_0xeba926(0x16e),!![],0.2),startAutoDemoTimer();}catch(_0x1504ab){console['error'](_0xeba926(0x1ed),_0x1504ab),gameJustStartedAndWaveLaunched=![],wasLastGameAIDemo=![],initialGameStartSoundPlayedThisSession=![],isInGameState=![],isShowingScoreScreen=![],isPaused=![],isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=![],selectedGameMode=_0xeba926(0x21a),selectedOnePlayerGameVariant='',isPlayerTwoAI=![],isTwoPlayerMode=![],currentPlayer=0x1,isShowingPlayerGameOverMessage=![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,coopStartSoundPlayedThisSession=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,isTransitioningToDemoViaScoreScreen=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,alert(_0xeba926(0x1d6)),document[_0xeba926(0x1b8)][_0xeba926(0x15a)]=_0xeba926(0x161);}}function startAIDemo(){const _0x2fa175=_0x35d30c;if(isInGameState)return;stopSound('menuMusicSound'),isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],selectedFiringMode=_0x2fa175(0x1c1),isTwoPlayerMode=![],selectedGameMode=_0x2fa175(0x21a),isManualControl=![],isShowingDemoText=!![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,wasLastGameAIDemo=!![],coopStartSoundPlayedThisSession=![],baseStartGame(![]),gameJustStarted=!![];}function startCoopAIDemo(){const _0x504298=_0x35d30c;if(isInGameState)return;stopSound(_0x504298(0x16e)),isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],selectedFiringMode=_0x504298(0x1c1),isTwoPlayerMode=!![],selectedGameMode=_0x504298(0x1e3),isManualControl=![],isShowingDemoText=!![],isCoopAIDemoActive=!![],aiPlayerActivelySeekingCaptureById=null,wasLastGameAIDemo=!![],baseStartGame(![]),gameJustStarted=!![];}function startGame1P(){const _0x1d0ae2=_0x35d30c;if(isInGameState)return;isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=!![],isGameModeSelectMode=![],isFiringModeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],isTwoPlayerMode=![],selectedGameMode=_0x1d0ae2(0x21a),isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,selectedButtonIndex=0x0,coopStartSoundPlayedThisSession=![],startAutoDemoTimer();}function startGame2P(){const _0x467387=_0x35d30c;if(isInGameState)return;isPlayerSelectMode=![],isGameModeSelectMode=!![],isFiringModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],isTwoPlayerMode=!![],selectedGameMode=_0x467387(0x21a),isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,selectedButtonIndex=0x0,coopStartSoundPlayedThisSession=![],startAutoDemoTimer();}function baseStartGame(_0x2daab5){const _0x28b3ae=_0x35d30c;try{if(!gameCanvas||!gameCtx){console[_0x28b3ae(0x21d)](_0x28b3ae(0x218)),showMenuState();return;}_0x2daab5&&stopSound('menuMusicSound');stopAutoDemoTimer(),isInGameState=!![],isShowingScoreScreen=![],isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=![],gameJustStartedAndWaveLaunched=![],isTransitioningToDemoViaScoreScreen=![],isManualControl=_0x2daab5,isShowingDemoText=!_0x2daab5,isPaused=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],shootPressed=![],p2ShootPressed=![],leftPressed=![],rightPressed=![],p2LeftPressed=![],p2RightPressed=![];_0x2daab5?(wasLastGameAIDemo=![],selectedOnePlayerGameVariant===_0x28b3ae(0x1aa)?isCoopAIDemoActive=![]:isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null):(isPlayerTwoAI=![],selectedOnePlayerGameVariant='');clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(typeof window[_0x28b3ae(0x1c4)]===_0x28b3ae(0x20c))window['resetGame']();else{console['error'](_0x28b3ae(0x15b)),alert(_0x28b3ae(0x1d2)),showMenuState();return;}isShowingCoopPlayersReady=![];const _0x30acef=level===0x1&&!initialGameStartSoundPlayedThisSession;let _0x5db1d4=![];if(isManualControl){if(selectedOnePlayerGameVariant===_0x28b3ae(0x1b1)){if(_0x30acef)_0x5db1d4=!![];}else{if(selectedOnePlayerGameVariant===_0x28b3ae(0x19a)||selectedOnePlayerGameVariant===_0x28b3ae(0x1aa)){if(_0x30acef)_0x5db1d4=!![];selectedOnePlayerGameVariant===_0x28b3ae(0x1aa)&&(isShowingCoopPlayersReady=!![],coopPlayersReadyStartTime=Date['now']());}else{if(isTwoPlayerMode&&!isPlayerTwoAI&&selectedGameMode==='normal'){if(_0x30acef)_0x5db1d4=!![];}else{if(isTwoPlayerMode&&!isPlayerTwoAI&&selectedGameMode===_0x28b3ae(0x1e3)){if(_0x30acef&&!coopStartSoundPlayedThisSession)_0x5db1d4=!![];isShowingCoopPlayersReady=!![],coopPlayersReadyStartTime=Date[_0x28b3ae(0x1ae)]();}}}}}else{if(_0x30acef)_0x5db1d4=!![];isCoopAIDemoActive&&(isShowingCoopPlayersReady=!![],coopPlayersReadyStartTime=Date[_0x28b3ae(0x1ae)]());}_0x5db1d4&&(playSound(_0x28b3ae(0x176),![],0.4),initialGameStartSoundPlayedThisSession=!![],(selectedGameMode===_0x28b3ae(0x1e3)||isCoopAIDemoActive||selectedOnePlayerGameVariant==='1P_VS_AI_COOP')&&(coopStartSoundPlayedThisSession=!![]));gameStartTime=Date[_0x28b3ae(0x1ae)](),selectedButtonIndex=-0x1;if(mainLoopId===null){if(typeof window[_0x28b3ae(0x16f)]===_0x28b3ae(0x20c))window[_0x28b3ae(0x16f)]();else startMainLoop();}}catch(_0x230814){console['error'](_0x28b3ae(0x1a5),_0x230814),gameJustStartedAndWaveLaunched=![],wasLastGameAIDemo=![],initialGameStartSoundPlayedThisSession=![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,isPlayerTwoAI=![],coopStartSoundPlayedThisSession=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,isTransitioningToDemoViaScoreScreen=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null,alert(_0x28b3ae(0x23c)),showMenuState();}}function stopGameAndShowMenu(){const _0x32dd9a=_0x35d30c;isPaused=![];if(isManualControl){if(typeof window['saveHighScore']===_0x32dd9a(0x20c))window['saveHighScore']();else saveHighScore();}showMenuState();}function exitGame(){const _0x3863bc=_0x35d30c;isPaused=![],stopAutoDemoTimer();if(typeof window[_0x3863bc(0x1c0)]===_0x3863bc(0x20c))window[_0x3863bc(0x1c0)]();else saveHighScore();isInGameState=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],showMenuState();try{window[_0x3863bc(0x186)](),setTimeout(()=>{if(!isInGameState)showMenuState();},0xc8);}catch(_0x367321){console[_0x3863bc(0x21d)](_0x3863bc(0x1af),_0x367321),showMenuState();}}function triggerGameOver(){const _0x1b26b7=_0x35d30c;if(typeof window['triggerFinalGameOverSequence']===_0x1b26b7(0x20c))window[_0x1b26b7(0x211)]();else triggerFinalGameOverSequence();}function showScoreScreen(){const _0x32f403=_0x35d30c;if(isInGameState||isShowingScoreScreen)return;isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],scoreScreenStartTime=Date[_0x32f403(0x1ae)](),selectedButtonIndex=-0x1,clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);}function goBackInMenu(){const _0x20fa3a=_0x35d30c;if(isFiringModeSelectMode){isFiringModeSelectMode=![];if(selectedOnePlayerGameVariant===_0x20fa3a(0x1b1))isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x0;else{if(selectedOnePlayerGameVariant===_0x20fa3a(0x19a)||selectedOnePlayerGameVariant===_0x20fa3a(0x1aa))isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=selectedOnePlayerGameVariant==='1P_VS_AI_COOP'?0x1:0x0;else isTwoPlayerMode&&!isPlayerTwoAI?(isGameModeSelectMode=!![],selectedButtonIndex=selectedGameMode===_0x20fa3a(0x1e3)?0x1:0x0):(isPlayerSelectMode=!![],selectedButtonIndex=0x0);}selectedOnePlayerGameVariant='',isPlayerTwoAI=![],selectedGameMode=_0x20fa3a(0x21a);}else{if(isOnePlayerVsAIGameTypeSelectMode)isOnePlayerVsAIGameTypeSelectMode=![],isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x1;else{if(isOnePlayerGameTypeSelectMode)isOnePlayerGameTypeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)isGameModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x1;else isPlayerSelectMode?(isPlayerSelectMode=![],selectedButtonIndex=0x0):triggerFullscreen();}}}startAutoDemoTimer();}function handleCanvasTouch(_0x2a8df3,_0x3d07f0,_0x5f5899=![]){const _0x55bef5=_0x35d30c;if(!gameCanvas)return;let _0x1e8b9e,_0x1c4b80;if(_0x2a8df3['type'][_0x55bef5(0x223)](_0x55bef5(0x1f6))){if(_0x2a8df3[_0x55bef5(0x1a8)]&&_0x2a8df3[_0x55bef5(0x1a8)]['length']>0x0)_0x1e8b9e=_0x2a8df3['touches'][0x0][_0x55bef5(0x205)],_0x1c4b80=_0x2a8df3['touches'][0x0][_0x55bef5(0x202)];else{if(_0x2a8df3['changedTouches']&&_0x2a8df3['changedTouches'][_0x55bef5(0x1e1)]>0x0)_0x1e8b9e=_0x2a8df3['changedTouches'][0x0]['clientX'],_0x1c4b80=_0x2a8df3['changedTouches'][0x0]['clientY'];else return;}}else{if(_0x2a8df3[_0x55bef5(0x242)][_0x55bef5(0x223)](_0x55bef5(0x235)))_0x1e8b9e=_0x2a8df3[_0x55bef5(0x205)],_0x1c4b80=_0x2a8df3[_0x55bef5(0x202)];else return;}const _0x5a62b2=gameCanvas[_0x55bef5(0x18b)](),_0x4d4ac5=gameCanvas[_0x55bef5(0x23a)]/_0x5a62b2['width'],_0x50f2d9=gameCanvas[_0x55bef5(0x1e6)]/_0x5a62b2['height'],_0x1ad23c=(_0x1e8b9e-_0x5a62b2[_0x55bef5(0x249)])*_0x4d4ac5,_0x26d171=(_0x1c4b80-_0x5a62b2[_0x55bef5(0x19d)])*_0x50f2d9,_0x6263bb=Date[_0x55bef5(0x1ae)]();if(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0){touchedMenuButtonIndex=-0x1;return;}if(isInGameState){}else{if(isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen){if(_0x3d07f0===_0x55bef5(0x1b6)&&_0x5f5899){if(typeof showMenuState===_0x55bef5(0x20c))showMenuState();}}else{if(!isShowingScoreScreen){stopAutoDemoTimer();const _0x219b10=getMenuButtonRect(0x0),_0x762b8e=getMenuButtonRect(0x1);let _0x2bf34c=-0x1;if(_0x219b10&&checkCollision({'x':_0x1ad23c,'y':_0x26d171,'width':0x1,'height':0x1},_0x219b10))_0x2bf34c=0x0;else _0x762b8e&&checkCollision({'x':_0x1ad23c,'y':_0x26d171,'width':0x1,'height':0x1},_0x762b8e)&&(_0x2bf34c=0x1);if(_0x3d07f0===_0x55bef5(0x250))isTouchActiveMenu=!![],touchedMenuButtonIndex=_0x2bf34c,selectedButtonIndex=_0x2bf34c;else{if(_0x3d07f0===_0x55bef5(0x1fa)){if(_0x2a8df3[_0x55bef5(0x242)]===_0x55bef5(0x208))selectedButtonIndex=_0x2bf34c;else{if(touchedMenuButtonIndex!==-0x1&&_0x2bf34c!==touchedMenuButtonIndex)selectedButtonIndex=-0x1;else touchedMenuButtonIndex!==-0x1&&(selectedButtonIndex=_0x2bf34c);}}else{if(_0x3d07f0==='end'&&_0x2a8df3[_0x55bef5(0x242)][_0x55bef5(0x223)]('touch')){isTouchActiveMenu=![];if(_0x5f5899&&_0x2bf34c!==-0x1&&_0x2bf34c===touchedMenuButtonIndex){selectedButtonIndex=_0x2bf34c;if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(isOnePlayerGameTypeSelectMode)selectedButtonIndex===0x0?(isOnePlayerGameTypeSelectMode=![],isFiringModeSelectMode=!![],selectedOnePlayerGameVariant=_0x55bef5(0x1b1),selectedGameMode=_0x55bef5(0x21a),isTwoPlayerMode=![],isPlayerTwoAI=![],selectedButtonIndex=0x0):(isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerVsAIGameTypeSelectMode)selectedButtonIndex===0x0?(selectedOnePlayerGameVariant='1P_VS_AI_NORMAL',selectedGameMode=_0x55bef5(0x21a)):(selectedOnePlayerGameVariant=_0x55bef5(0x1aa),selectedGameMode='coop'),isOnePlayerVsAIGameTypeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)selectedButtonIndex===0x0?selectedGameMode=_0x55bef5(0x21a):selectedGameMode='coop',isGameModeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=![],selectedButtonIndex=0x0;else{if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x55bef5(0x1c1):selectedFiringMode=_0x55bef5(0x177),baseStartGame(!![]);else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],selectedButtonIndex=0x0;else{if(selectedButtonIndex===0x1){if(typeof exitGame===_0x55bef5(0x20c))exitGame();}}}}}}}}else _0x5f5899&&_0x2bf34c===-0x1&&touchedMenuButtonIndex===-0x1&&goBackInMenu();touchedMenuButtonIndex=-0x1;}}}if(_0x3d07f0!=='end'&&_0x2bf34c!==-0x1)stopAutoDemoTimer();else(_0x3d07f0===_0x55bef5(0x1b6)||_0x3d07f0===_0x55bef5(0x1fa)&&_0x2bf34c===-0x1)&&startAutoDemoTimer();}}}}function handleCanvasClick(_0x41f42d){const _0x2e9990=_0x35d30c;if(!gameCanvas)return;audioContext&&audioContext[_0x2e9990(0x1d4)]===_0x2e9990(0x1ff)&&audioContext['resume']()['then'](()=>{const _0x59acf1=_0x2e9990;audioContextInitialized=!![],console['log'](_0x59acf1(0x17b));});if(isInGameState){if(isPaused){if(typeof togglePause===_0x2e9990(0x20c))togglePause();return;}}else{if(isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen){if(typeof showMenuState===_0x2e9990(0x20c))showMenuState();}else{if(!isShowingScoreScreen){stopAutoDemoTimer();const _0x448f46=gameCanvas[_0x2e9990(0x18b)](),_0x142c3b=gameCanvas['width']/_0x448f46['width'],_0x5f1772=gameCanvas[_0x2e9990(0x1e6)]/_0x448f46['height'],_0x150c29=(_0x41f42d[_0x2e9990(0x205)]-_0x448f46['left'])*_0x142c3b,_0x1ab477=(_0x41f42d[_0x2e9990(0x202)]-_0x448f46['top'])*_0x5f1772;let _0x53f6ca=-0x1;const _0x12758c=getMenuButtonRect(0x0),_0x46e25e=getMenuButtonRect(0x1);if(_0x12758c&&checkCollision({'x':_0x150c29,'y':_0x1ab477,'width':0x1,'height':0x1},_0x12758c))_0x53f6ca=0x0;else _0x46e25e&&checkCollision({'x':_0x150c29,'y':_0x1ab477,'width':0x1,'height':0x1},_0x46e25e)&&(_0x53f6ca=0x1);if(_0x53f6ca!==-0x1){selectedButtonIndex=_0x53f6ca;if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(isOnePlayerGameTypeSelectMode)selectedButtonIndex===0x0?(isOnePlayerGameTypeSelectMode=![],isFiringModeSelectMode=!![],selectedOnePlayerGameVariant=_0x2e9990(0x1b1),selectedGameMode='normal',isTwoPlayerMode=![],isPlayerTwoAI=![],selectedButtonIndex=0x0):(isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerVsAIGameTypeSelectMode)selectedButtonIndex===0x0?(selectedOnePlayerGameVariant='1P_VS_AI_NORMAL',selectedGameMode='normal'):(selectedOnePlayerGameVariant=_0x2e9990(0x1aa),selectedGameMode=_0x2e9990(0x1e3)),isOnePlayerVsAIGameTypeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)selectedButtonIndex===0x0?selectedGameMode=_0x2e9990(0x21a):selectedGameMode='coop',isGameModeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=![],selectedButtonIndex=0x0;else{if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode='rapid':selectedFiringMode=_0x2e9990(0x177),baseStartGame(!![]);else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],selectedButtonIndex=0x0;else{if(selectedButtonIndex===0x1){if(typeof exitGame==='function')exitGame();}}}}}}}}else goBackInMenu();startAutoDemoTimer();}}}}function createExplosion(_0x4a5e7a,_0x59b090){const _0x27445c=_0x35d30c;try{playSound(_0x27445c(0x259),![],0.4);let _0x18fd4=[];for(let _0x748460=0x0;_0x748460<EXPLOSION_PARTICLE_COUNT;_0x748460++){const _0x585996=Math[_0x27445c(0x23e)]()*Math['PI']*0x2,_0x1bdccb=Math[_0x27445c(0x23e)]()*(EXPLOSION_MAX_SPEED-EXPLOSION_MIN_SPEED)+EXPLOSION_MIN_SPEED;_0x18fd4[_0x27445c(0x20b)]({'x':_0x4a5e7a,'y':_0x59b090,'vx':Math[_0x27445c(0x22a)](_0x585996)*_0x1bdccb,'vy':Math['sin'](_0x585996)*_0x1bdccb,'radius':EXPLOSION_PARTICLE_RADIUS,'alpha':0x1});}explosions['push']({'creationTime':Date[_0x27445c(0x1ae)](),'duration':EXPLOSION_DURATION,'particles':_0x18fd4});}catch(_0x1d012f){console[_0x27445c(0x21d)](_0x27445c(0x1a0),_0x1d012f);}}function drawCanvasText(_0x1af1c9,_0x3e1a01,_0x32c1e2,_0xcb108b,_0x2c30a0,_0x330b3a=_0x35d30c(0x21b),_0x47f973=_0x35d30c(0x227),_0x430dc0=![]){const _0x67f90d=_0x35d30c;if(!gameCtx)return;gameCtx['save'](),gameCtx[_0x67f90d(0x1d3)]=_0xcb108b,gameCtx[_0x67f90d(0x245)]=_0x2c30a0,gameCtx['textAlign']=_0x330b3a,gameCtx['textBaseline']=_0x47f973,_0x430dc0&&(gameCtx[_0x67f90d(0x217)]=_0x67f90d(0x207),gameCtx[_0x67f90d(0x19b)]=0x8,gameCtx[_0x67f90d(0x24c)]=0x3,gameCtx['shadowOffsetY']=0x3),gameCtx[_0x67f90d(0x1d7)](_0x1af1c9,_0x3e1a01,_0x32c1e2),gameCtx['restore']();}function drawCanvasButton(_0x494b84,_0x28e39c,_0x195e7f){const _0x1f6140=_0x35d30c;if(!gameCtx)return;const _0x2b0094=getMenuButtonRect(_0x28e39c);if(!_0x2b0094)return;gameCtx[_0x1f6140(0x1c6)](),drawCanvasText(_0x494b84,_0x2b0094['x']+_0x2b0094[_0x1f6140(0x23a)]/0x2,_0x2b0094['y']+_0x2b0094[_0x1f6140(0x1e6)]/0x2,MENU_BUTTON_FONT,_0x195e7f?MENU_BUTTON_COLOR_HOVER:MENU_BUTTON_COLOR,_0x1f6140(0x21b),_0x1f6140(0x227)),gameCtx[_0x1f6140(0x18a)]();}function renderExplosions(){const _0xbe103b=_0x35d30c;try{if(!gameCtx)return;gameCtx[_0xbe103b(0x1c6)](),gameCtx[_0xbe103b(0x20a)]=_0xbe103b(0x212),explosions[_0xbe103b(0x1cf)](_0x3a599d=>{const _0x40ef87=_0xbe103b;_0x3a599d[_0x40ef87(0x174)][_0x40ef87(0x1cf)](_0x8ba4b1=>{const _0xec7a07=_0x40ef87,_0x48edee=_0x8ba4b1[_0xec7a07(0x1cd)]*EXPLOSION_MAX_OPACITY;_0x48edee>0.01&&(gameCtx[_0xec7a07(0x210)](),gameCtx[_0xec7a07(0x1f0)](Math[_0xec7a07(0x15f)](_0x8ba4b1['x']),Math[_0xec7a07(0x15f)](_0x8ba4b1['y']),_0x8ba4b1['radius'],0x0,Math['PI']*0x2),gameCtx[_0xec7a07(0x245)]='rgba(255,\x20200,\x2080,\x20'+_0x48edee[_0xec7a07(0x22e)](0x3)+')',gameCtx[_0xec7a07(0x247)]());});}),gameCtx[_0xbe103b(0x18a)]();}catch(_0x4c791d){console[_0xbe103b(0x21d)](_0xbe103b(0x203),_0x4c791d);}}function renderFloatingScores(){const _0x45f819=_0x35d30c;try{if(!gameCtx||!floatingScores||floatingScores['length']===0x0)return;const _0x51a0ba=Date[_0x45f819(0x1ae)]();gameCtx[_0x45f819(0x1c6)](),gameCtx[_0x45f819(0x252)]=FLOATING_SCORE_OPACITY,floatingScores[_0x45f819(0x1cf)](_0x3a9df1=>{const _0x11c7af=_0x45f819;_0x51a0ba>=_0x3a9df1[_0x11c7af(0x1a3)]&&drawCanvasText(_0x3a9df1[_0x11c7af(0x190)],_0x3a9df1['x'],_0x3a9df1['y'],FLOATING_SCORE_FONT,_0x3a9df1[_0x11c7af(0x1b3)],_0x11c7af(0x21b),_0x11c7af(0x227),![]);}),gameCtx[_0x45f819(0x252)]=0x1,gameCtx[_0x45f819(0x18a)]();}catch(_0x4e129f){console[_0x45f819(0x21d)]('Error\x20rendering\x20floatingScores:',_0x4e129f);}}function renderHitSparks(){const _0x9d5338=_0x35d30c;if(!gameCtx||!hitSparks||hitSparks[_0x9d5338(0x1e1)]===0x0)return;gameCtx[_0x9d5338(0x1c6)](),gameCtx['globalCompositeOperation']=_0x9d5338(0x212),hitSparks[_0x9d5338(0x1cf)](_0x2e616b=>{const _0x539f97=_0x9d5338;if(_0x2e616b&&_0x2e616b[_0x539f97(0x1cd)]>0.01){gameCtx[_0x539f97(0x245)]=_0x2e616b['color'],gameCtx['globalAlpha']=_0x2e616b['alpha'],gameCtx[_0x539f97(0x210)]();const _0xdfe9dc=_0x2e616b[_0x539f97(0x1db)]*Math[_0x539f97(0x175)](_0x2e616b[_0x539f97(0x1cd)]);gameCtx[_0x539f97(0x1f0)](Math['round'](_0x2e616b['x']),Math[_0x539f97(0x15f)](_0x2e616b['y']),Math[_0x539f97(0x169)](0.5,_0xdfe9dc/0x2),0x0,Math['PI']*0x2),gameCtx[_0x539f97(0x247)]();}}),gameCtx[_0x9d5338(0x252)]=0x1,gameCtx[_0x9d5338(0x18a)]();}function renderGame(){const _0x2efec0=_0x35d30c;try{if(!gameCtx||!gameCanvas){if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;return;}gameCtx[_0x2efec0(0x224)](0x0,0x0,gameCanvas[_0x2efec0(0x23a)],gameCanvas[_0x2efec0(0x1e6)]);const _0x4dea07=Date[_0x2efec0(0x1ae)]();if(isShowingPortraitMessage){gameCtx[_0x2efec0(0x1c6)]();const _0x3cdb67=gameCanvas[_0x2efec0(0x23a)]/0x2,_0x2c7c82=Math[_0x2efec0(0x195)](0x16,gameCanvas[_0x2efec0(0x23a)]/0x23),_0x12c81f=_0x2efec0(0x1d5)+(_0x2c7c82+0x2)+_0x2efec0(0x1fd),_0xec2035='yellow',_0x3afb4e='normal\x20'+_0x2c7c82+_0x2efec0(0x1fd),_0x3a282d=_0x2efec0(0x16a),_0x7fda8b='bold\x2024px\x20\x27Press\x20Start\x202P\x27',_0x323676='rgba(0,\x20191,\x20255,\x200.9)',_0x2e3453=_0x2efec0(0x1ab)+(_0x2c7c82-0x4)+_0x2efec0(0x1fd),_0x501754=_0x2efec0(0x18d),_0x46a4fb=[{'text':_0x2efec0(0x1de),'font':_0x12c81f,'color':_0xec2035,'skipAfter':0.75},{'text':_0x2efec0(0x162),'font':_0x3afb4e,'color':_0x3a282d},{'text':_0x2efec0(0x257),'font':_0x3afb4e,'color':_0x3a282d,'skipAfter':0x1},{'text':_0x2efec0(0x17c),'font':_0x3afb4e,'color':_0x3a282d},{'text':_0x2efec0(0x1c7),'font':_0x3afb4e,'color':_0x3a282d,'skipAfter':0x1},{'text':_0x2efec0(0x219),'font':_0x3afb4e,'color':_0x3a282d},{'text':_0x2efec0(0x1e0),'font':_0x3afb4e,'color':_0x3a282d,'skipAfter':0x1},{'text':_0x2efec0(0x231),'font':_0x3afb4e,'color':_0x3a282d},{'text':_0x2efec0(0x189),'font':_0x3afb4e,'color':_0x3a282d,'skipAfter':0x2},{'text':_0x2efec0(0x228),'font':_0x7fda8b,'color':_0x323676},{'text':_0x2efec0(0x201),'font':_0x7fda8b,'color':_0x323676,'skipAfter':1.5},{'text':'Written\x20by\x20Platini2000(c)','font':_0x2e3453,'color':_0x501754}];let _0x53471e=0x0;const _0x2a73f8=_0x46a4fb[_0x2efec0(0x1d1)](_0xc3b42e=>{const _0x16dd8e=_0x2efec0;gameCtx['font']=_0xc3b42e[_0x16dd8e(0x1d3)];const _0x30eb03=gameCtx[_0x16dd8e(0x206)]('M'),_0x2fbe71=(_0x30eb03[_0x16dd8e(0x1c2)]||parseInt(_0xc3b42e[_0x16dd8e(0x1d3)],0xa)*1.2)+(_0x30eb03[_0x16dd8e(0x199)]||0x0)+0x8;return{'height':_0x2fbe71,'skip':_0xc3b42e[_0x16dd8e(0x234)]||0x0};});gameCtx[_0x2efec0(0x1d3)]=_0x7fda8b;const _0x5e1de4=gameCtx[_0x2efec0(0x206)]('M'),_0x449da3=(_0x5e1de4[_0x2efec0(0x1c2)]||parseInt(_0x7fda8b,0xa)*1.2)+(_0x5e1de4['actualBoundingBoxDescent']||0x0)+0x5;_0x2a73f8[_0x2efec0(0x1cf)](_0x49245d=>{const _0x1f5f7b=_0x2efec0;_0x53471e+=_0x49245d['height'],_0x49245d[_0x1f5f7b(0x167)]>0x0&&(_0x53471e+=_0x449da3*_0x49245d['skip']);});const _0x4db9bb=gameCanvas[_0x2efec0(0x1e6)]*0.05,_0xe21b33=gameCanvas[_0x2efec0(0x1e6)]*GRID_HORIZON_Y_FACTOR,_0x3528d0=_0xe21b33-_0x4db9bb,_0x5b3822=gameCanvas[_0x2efec0(0x1e6)]*0.05;let _0x39edc5=_0x4db9bb;_0x53471e<_0x3528d0-_0x5b3822&&(_0x39edc5=_0x4db9bb+(_0x3528d0-_0x5b3822-_0x53471e)/0x2);_0x39edc5=Math[_0x2efec0(0x169)](_0x39edc5,_0x4db9bb);const _0x45ec2d=_0x449da3*0x4;_0x39edc5+=_0x45ec2d;let _0x24d162=_0x39edc5;_0x46a4fb[_0x2efec0(0x1cf)]((_0x4c5055,_0x3acab9)=>{const _0x184fbb=_0x2efec0,_0x38a1ef=_0x2a73f8[_0x3acab9]['height'];drawCanvasText(_0x4c5055[_0x184fbb(0x190)],_0x3cdb67,_0x24d162+_0x38a1ef/0x2,_0x4c5055[_0x184fbb(0x1d3)],_0x4c5055[_0x184fbb(0x1b3)],_0x184fbb(0x21b),_0x184fbb(0x227),!![]),_0x24d162+=_0x38a1ef,_0x4c5055[_0x184fbb(0x234)]&&(_0x24d162+=_0x449da3*_0x4c5055['skipAfter']);}),gameCtx[_0x2efec0(0x18a)](),gameCtx[_0x2efec0(0x1c6)]();const _0x19d1f9=_0x2efec0(0x20e),_0x2854cf=_0x2efec0(0x18d),_0x3e5a97='white',_0x4ce0e4=0xf,_0x5bf0d3=0x14,_0x4c1254=0x14,_0x4da224=Math[_0x2efec0(0x195)](0x23,gameCanvas[_0x2efec0(0x23a)]/0xf),_0x53430a=SHIP_WIDTH,_0x3d2457=SHIP_HEIGHT,_0x2e41c8=0x5,_0x3fae6e=0xa,_0x115683=0x3,_0x40e151=_0x4ce0e4+_0x449da3*0x1,_0x5d9d25=_0x40e151+_0x4c1254+_0x115683;gameCtx['font']=_0x19d1f9,gameCtx[_0x2efec0(0x18c)]='top',gameCtx['fillStyle']=_0x2854cf,gameCtx[_0x2efec0(0x23f)]=_0x2efec0(0x249);const _0x1dd8b2=_0x2efec0(0x18f);gameCtx[_0x2efec0(0x1d7)](_0x1dd8b2,_0x5bf0d3,_0x40e151),gameCtx[_0x2efec0(0x245)]=_0x3e5a97;const _0x560a22=gameCtx['measureText'](_0x1dd8b2)[_0x2efec0(0x23a)];gameCtx[_0x2efec0(0x23f)]=_0x2efec0(0x21b),gameCtx[_0x2efec0(0x1d7)]('0',_0x5bf0d3+_0x560a22/0x2,_0x5d9d25),gameCtx[_0x2efec0(0x245)]=_0x2854cf,gameCtx[_0x2efec0(0x23f)]=_0x2efec0(0x21b),gameCtx[_0x2efec0(0x1d7)]('HI\x20SCORE',_0x3cdb67,_0x40e151),gameCtx[_0x2efec0(0x245)]=_0x3e5a97,gameCtx[_0x2efec0(0x1d7)](String(highScore||0x4e20),_0x3cdb67,_0x5d9d25),gameCtx[_0x2efec0(0x245)]=_0x2854cf,gameCtx['textAlign']=_0x2efec0(0x239);const _0x355c6f='2UP';gameCtx['fillText'](_0x355c6f,gameCanvas[_0x2efec0(0x23a)]-_0x5bf0d3,_0x40e151),gameCtx['fillStyle']=_0x3e5a97;const _0x412e76=gameCtx[_0x2efec0(0x206)](_0x355c6f)['width'];gameCtx[_0x2efec0(0x23f)]=_0x2efec0(0x21b),gameCtx[_0x2efec0(0x1d7)]('0',gameCanvas[_0x2efec0(0x23a)]-_0x5bf0d3-_0x412e76/0x2,_0x5d9d25);if(typeof shipImage!==_0x2efec0(0x204)&&shipImage[_0x2efec0(0x192)]&&shipImage[_0x2efec0(0x187)]!==0x0){const _0x575724=gameCanvas[_0x2efec0(0x1e6)]-_0x3fae6e-_0x449da3*0x1,_0xe592c9=_0x575724-_0x4da224,_0x33e2f6=_0x575724-_0x3d2457;let _0x2f5381=_0x5bf0d3;gameCtx[_0x2efec0(0x15c)](shipImage,Math[_0x2efec0(0x15f)](_0x2f5381),Math[_0x2efec0(0x15f)](_0xe592c9),_0x4da224,_0x4da224),_0x2f5381+=_0x4da224+_0x2e41c8,gameCtx[_0x2efec0(0x15c)](shipImage,Math[_0x2efec0(0x15f)](_0x2f5381),Math[_0x2efec0(0x15f)](_0xe592c9),_0x4da224,_0x4da224);const _0xcdc2e4=_0x3cdb67-_0x53430a/0x2;gameCtx[_0x2efec0(0x15c)](shipImage,Math[_0x2efec0(0x15f)](_0xcdc2e4),Math[_0x2efec0(0x15f)](_0x33e2f6),_0x53430a,_0x3d2457);if(typeof level1Image!=='undefined'&&level1Image[_0x2efec0(0x192)]&&level1Image[_0x2efec0(0x187)]!==0x0){const _0x43bd14=gameCanvas[_0x2efec0(0x23a)]-_0x5bf0d3-_0x4da224;gameCtx[_0x2efec0(0x15c)](level1Image,Math[_0x2efec0(0x15f)](_0x43bd14),Math['round'](_0xe592c9),_0x4da224,_0x4da224);}}gameCtx[_0x2efec0(0x18a)]();return;}gameCtx[_0x2efec0(0x1c6)]();const _0x360049='20px\x20\x27Press\x20Start\x202P\x27',_0x42377d=_0x2efec0(0x18d),_0x2b569c='white',_0x1e7eef=0x5,_0x273fe3=0x2;gameCtx[_0x2efec0(0x1d3)]=_0x360049,gameCtx[_0x2efec0(0x18c)]=_0x2efec0(0x19d);const _0x586c52=(_0x375603,_0x13fc86,_0x5bd36f,_0x20e0e7,_0x7ea195=![])=>{const _0x3667f2=_0x2efec0;let _0x38738d=!![],_0x3e7a3f=UI_1UP_BLINK_ON_MS*1.5,_0x2086f1=UI_1UP_BLINK_CYCLE_MS*1.5;if(_0x375603===_0x3667f2(0x15e)||_0x375603==='AI\x20P2')_0x3e7a3f=DEMO_TEXT_BLINK_ON_MS*0.7,_0x2086f1=DEMO_TEXT_BLINK_CYCLE_MS;else _0x375603==='HIGH\x20SCORE'&&(_0x3e7a3f=UI_1UP_BLINK_ON_MS*1.5,_0x2086f1=UI_1UP_BLINK_CYCLE_MS*1.5,isInGameState&&(!isManualControl||isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode===_0x3667f2(0x1e3))&&(_0x3e7a3f=DEMO_TEXT_BLINK_ON_MS*0.7,_0x2086f1=DEMO_TEXT_BLINK_CYCLE_MS));let _0x4aebe0=isShowingPlayerGameOverMessage||isTwoPlayerMode&&selectedGameMode===_0x3667f2(0x1e3)&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);_0x7ea195&&((isPaused||gameOverSequenceStartTime>0x0||_0x4aebe0||!(_0x4dea07%_0x2086f1<_0x3e7a3f))&&(_0x38738d=![]));_0x38738d&&(gameCtx['fillStyle']=_0x42377d,gameCtx[_0x3667f2(0x23f)]=_0x5bd36f,gameCtx[_0x3667f2(0x1d7)](_0x375603,_0x20e0e7,MARGIN_TOP));const _0x545778=gameCtx[_0x3667f2(0x206)](_0x375603)[_0x3667f2(0x23a)];let _0xd9d541;if(_0x5bd36f===_0x3667f2(0x249))_0xd9d541=_0x20e0e7+_0x545778/0x2;else{if(_0x5bd36f===_0x3667f2(0x239))_0xd9d541=_0x20e0e7-_0x545778/0x2;else _0xd9d541=_0x20e0e7;}gameCtx['fillStyle']=_0x2b569c,gameCtx[_0x3667f2(0x23f)]=_0x3667f2(0x21b);let _0x2cc556=MARGIN_TOP+SCORE_OFFSET_Y+0x5;_0x375603==='HIGH\x20SCORE'&&(_0xd9d541=_0x20e0e7);const _0x405d42=typeof _0x13fc86===_0x3667f2(0x1e8)?_0x13fc86[_0x3667f2(0x22e)](0x0):String(_0x13fc86);gameCtx[_0x3667f2(0x1d7)](_0x405d42,_0xd9d541,_0x2cc556);};let _0x52166b,_0x4784ea,_0x257da7,_0x165dd0,_0x5d0fce=_0x2efec0(0x1b7),_0x6236cb=![],_0x2f33d0=![],_0x2246d3=![],_0x5e4fcd=isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x1e3)&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);_0x4784ea=0x0;const _0x312f8b=isTwoPlayerMode||isPlayerTwoAI&&selectedGameMode===_0x2efec0(0x1e3);if(_0x312f8b){if(selectedGameMode===_0x2efec0(0x1e3)&&isInGameState){_0x4784ea=player2Score;if(isCoopAIDemoActive)_0x5d0fce=_0x2efec0(0x1ba);else{if(isPlayerTwoAI&&selectedOnePlayerGameVariant===_0x2efec0(0x1aa))_0x5d0fce=_0x2efec0(0x1ba);else _0x5d0fce=_0x2efec0(0x1b7);}}else{if(selectedGameMode===_0x2efec0(0x21a)&&isInGameState)_0x4784ea=currentPlayer===0x2?score:player2Score,isPlayerTwoAI&&(_0x5d0fce=_0x2efec0(0x1ba));else{if(isShowingResultsScreen||gameOverSequenceStartTime>0x0&&!isShowingPlayerGameOverMessage&&!_0x5e4fcd||isShowingPlayerGameOverMessage||_0x5e4fcd){_0x4784ea=player2Score||0x0;if(isCoopAIDemoActive&&wasLastGameAIDemo)_0x5d0fce=_0x2efec0(0x1ba);else{if(isPlayerTwoAI&&wasLastGameAIDemo&&selectedGameMode===_0x2efec0(0x1e3))_0x5d0fce=_0x2efec0(0x1ba);else{if(isPlayerTwoAI&&wasLastGameAIDemo)_0x5d0fce='AI\x20P2';else{if(isPlayerTwoAI&&!wasLastGameAIDemo&&selectedGameMode===_0x2efec0(0x1e3))_0x5d0fce='AI\x20P2';else isPlayerTwoAI&&!wasLastGameAIDemo&&(_0x5d0fce=_0x2efec0(0x1ba));}}}}else{if(!isInGameState){_0x4784ea=0x0;if(isPlayerSelectMode&&selectedButtonIndex===0x1)_0x5d0fce=_0x2efec0(0x1b7);else{if(isOnePlayerVsAIGameTypeSelectMode&&selectedButtonIndex===0x1||isFiringModeSelectMode&&isPlayerTwoAI&&selectedGameMode===_0x2efec0(0x1e3))_0x5d0fce=_0x2efec0(0x1ba);else{if(isOnePlayerVsAIGameTypeSelectMode&&selectedButtonIndex===0x0&&isFiringModeSelectMode&&isPlayerTwoAI||isFiringModeSelectMode&&isPlayerTwoAI&&selectedGameMode===_0x2efec0(0x21a))_0x5d0fce=_0x2efec0(0x1ba);else _0x5d0fce=_0x2efec0(0x1b7);}}}}}}}else _0x5d0fce=_0x2efec0(0x1b7),_0x4784ea=0x0;if(isShowingResultsScreen){_0x52166b=player1Score||0x0,_0x257da7=highScore||0x4e20,_0x257da7=Math[_0x2efec0(0x169)](_0x257da7,_0x52166b,_0x4784ea),_0x165dd0=wasLastGameAIDemo&&!isCoopAIDemoActive&&!(isPlayerTwoAI&&selectedGameMode===_0x2efec0(0x1e3))?_0x2efec0(0x15e):isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode==='coop'?_0x2efec0(0x15e):_0x2efec0(0x18f);if(isPlayerTwoAI&&!isCoopAIDemoActive&&wasLastGameAIDemo&&selectedGameMode===_0x2efec0(0x21a))_0x165dd0='1UP';_0x2246d3=![],_0x6236cb=![],_0x2f33d0=![];}else{if(gameOverSequenceStartTime>0x0&&!isShowingPlayerGameOverMessage&&!_0x5e4fcd){_0x52166b=player1Score||0x0,_0x257da7=highScore||0x4e20,_0x257da7=Math[_0x2efec0(0x169)](_0x257da7,_0x52166b,_0x4784ea),_0x165dd0=wasLastGameAIDemo&&!isCoopAIDemoActive&&!(isPlayerTwoAI&&selectedGameMode==='coop')?_0x2efec0(0x15e):isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode===_0x2efec0(0x1e3)?_0x2efec0(0x15e):_0x2efec0(0x18f);if(isPlayerTwoAI&&!isCoopAIDemoActive&&wasLastGameAIDemo&&selectedGameMode===_0x2efec0(0x21a))_0x165dd0=_0x2efec0(0x18f);_0x2246d3=![],_0x6236cb=![],_0x2f33d0=![];}else{if(isShowingPlayerGameOverMessage||_0x5e4fcd){_0x52166b=player1Score||0x0,_0x257da7=highScore||0x4e20,_0x257da7=Math['max'](_0x257da7,_0x52166b,_0x4784ea),_0x165dd0=isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode===_0x2efec0(0x1e3)?_0x2efec0(0x15e):_0x2efec0(0x18f);if(isPlayerTwoAI&&!isCoopAIDemoActive&&selectedGameMode==='normal'&&playerWhoIsGameOver===0x1)_0x165dd0=_0x2efec0(0x18f);_0x2246d3=![],_0x6236cb=![],_0x2f33d0=![];}else{if(!isInGameState)_0x52166b=0x0,_0x257da7=highScore||0x4e20,_0x165dd0=_0x2efec0(0x18f),_0x2246d3=![],_0x6236cb=![],_0x2f33d0=![];else{_0x257da7=highScore||0x0;const _0x322a43=!isPaused&&!isShowingCoopPlayersReady;if(isCoopAIDemoActive){_0x52166b=player1Score,_0x257da7=Math[_0x2efec0(0x169)](highScore,player1Score,player2Score),_0x165dd0=_0x2efec0(0x15e),_0x6236cb=_0x322a43&&!isShowingIntro&&player1Lives>0x0&&ship1&&!isPlayer1ShipCaptured&&!isPlayer1WaitingForRespawn&&!isPlayer1ShowingGameOverMessage,_0x2f33d0=_0x322a43&&!isShowingIntro&&player2Lives>0x0&&ship2&&!isPlayer2ShipCaptured&&!isPlayer2WaitingForRespawn&&!isPlayer2ShowingGameOverMessage;if(player1Score>=_0x257da7&&player1Score>0x0&&!isPlayer1ShowingGameOverMessage)_0x2246d3=_0x6236cb;if(player2Score>=_0x257da7&&player2Score>0x0&&player2Score>=player1Score&&!isPlayer2ShowingGameOverMessage)_0x2246d3=_0x2f33d0;}else{if(!isManualControl)_0x52166b=score,_0x257da7=Math[_0x2efec0(0x169)](_0x257da7,score),_0x165dd0='AI\x20P1',_0x6236cb=_0x322a43&&!isShowingIntro&&!isShipCaptured&&playerLives>0x0&&!_0x5e4fcd,_0x2246d3=_0x322a43&&!isShowingIntro&&score>0x0&&_0x257da7>0x0&&score>=_0x257da7&&!_0x5e4fcd;else{_0x165dd0=_0x2efec0(0x18f);if(isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x1e3)){_0x52166b=player1Score,_0x257da7=Math[_0x2efec0(0x169)](highScore,player1Score,player2Score),_0x6236cb=_0x322a43&&!isShowingIntro&&player1Lives>0x0&&ship1&&!isPlayer1ShipCaptured&&!isPlayer1WaitingForRespawn&&!isPlayer1ShowingGameOverMessage,_0x2f33d0=_0x322a43&&!isShowingIntro&&player2Lives>0x0&&ship2&&!isPlayer2ShipCaptured&&!isPlayer2WaitingForRespawn&&!isPlayer2ShowingGameOverMessage&&(isPlayerTwoAI?player2Lives>0x0:!![]);if(player1Score>=_0x257da7&&player1Score>0x0&&!isPlayer1ShowingGameOverMessage)_0x2246d3=_0x6236cb;if(player2Score>=_0x257da7&&player2Score>0x0&&player2Score>=player1Score&&!isPlayer2ShowingGameOverMessage&&(isPlayerTwoAI?player2Lives>0x0:!![]))_0x2246d3=_0x2f33d0;}else isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x21a)?(_0x52166b=currentPlayer===0x1?score:player1Score,_0x257da7=Math[_0x2efec0(0x169)](highScore,player1Score,player2Score,score),_0x6236cb=_0x322a43&&!isShowingIntro&&currentPlayer===0x1&&playerLives>0x0&&!isShipCaptured&&!isWaitingForRespawn&&!isShowingPlayerGameOverMessage,_0x2f33d0=_0x322a43&&!isShowingIntro&&currentPlayer===0x2&&playerLives>0x0&&!isShipCaptured&&!isWaitingForRespawn&&!isShowingPlayerGameOverMessage&&(isPlayerTwoAI?playerLives>0x0:!![]),_0x2246d3=_0x322a43&&!isShowingIntro&&score>0x0&&_0x257da7>0x0&&score>=_0x257da7&&!isShowingPlayerGameOverMessage):(_0x52166b=score,_0x257da7=Math[_0x2efec0(0x169)](_0x257da7,score),_0x6236cb=_0x322a43&&!isShowingIntro&&playerLives>0x0&&!isShipCaptured&&!isWaitingForRespawn&&!isShowingPlayerGameOverMessage,_0x2246d3=_0x322a43&&!isShowingIntro&&score>0x0&&_0x257da7>0x0&&score>=_0x257da7&&!isShowingPlayerGameOverMessage);}}}}}}isHighScoreBlinkingNow=![];if(_0x2246d3){if(!isManualControl||isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode===_0x2efec0(0x1e3)){isHighScoreBlinkingNow=player1Score>=_0x257da7&&player1Score>0x0&&_0x6236cb&&!isPlayer1ShowingGameOverMessage||(isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode===_0x2efec0(0x1e3))&&player2Score>=_0x257da7&&player2Score>0x0&&_0x2f33d0&&!isPlayer2ShowingGameOverMessage;if(!isCoopAIDemoActive&&!isManualControl&&!isPlayerTwoAI)isHighScoreBlinkingNow=_0x6236cb;}else{if(isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x1e3))isHighScoreBlinkingNow=player1Score>=_0x257da7&&player1Score>0x0&&_0x6236cb&&!isPlayer1ShowingGameOverMessage||player2Score>=_0x257da7&&player2Score>0x0&&_0x2f33d0&&!isPlayer2ShowingGameOverMessage;else isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x21a)?isHighScoreBlinkingNow=score>=_0x257da7&&score>0x0&&(currentPlayer===0x1&&_0x6236cb||currentPlayer===0x2&&_0x2f33d0&&(!isPlayerTwoAI||isPlayerTwoAI&&playerLives>0x0))&&!isShowingPlayerGameOverMessage:isHighScoreBlinkingNow=_0x6236cb;}}typeof MARGIN_SIDE!==_0x2efec0(0x204)&&typeof MARGIN_TOP!==_0x2efec0(0x204)&&typeof SCORE_OFFSET_Y!==_0x2efec0(0x204)&&(_0x586c52(_0x165dd0,_0x52166b,'left',MARGIN_SIDE,_0x6236cb),_0x586c52(_0x2efec0(0x215),_0x257da7,_0x2efec0(0x21b),gameCanvas[_0x2efec0(0x23a)]/0x2,isHighScoreBlinkingNow),_0x586c52(_0x5d0fce,_0x4784ea,_0x2efec0(0x239),gameCanvas[_0x2efec0(0x23a)]-MARGIN_SIDE,_0x2f33d0));const _0x1a5aac=isShowingResultsScreen&&isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x21a);if(typeof shipImage!==_0x2efec0(0x204)&&typeof LIFE_ICON_MARGIN_BOTTOM!==_0x2efec0(0x204)&&typeof LIFE_ICON_SIZE!=='undefined'&&typeof LIFE_ICON_MARGIN_LEFT!=='undefined'&&typeof LIFE_ICON_SPACING!==_0x2efec0(0x204)){if(shipImage[_0x2efec0(0x192)]&&shipImage[_0x2efec0(0x187)]!==0x0){const _0x486932=gameCanvas[_0x2efec0(0x1e6)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE;let _0x14b1fe=0x0,_0x36c8e4=0x0;const _0x4ea5df=!isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x21a),_0x323218=_0x4ea5df&&(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0||isShowingResultsScreen);if(_0x323218)_0x14b1fe=_0x273fe3;else{if(_0x1a5aac)_0x14b1fe=_0x273fe3;else{if(!isInGameState||isShowingScoreScreen||isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage||gameOverSequenceStartTime>0x0)_0x14b1fe=player1Lives<=0x0?0x0:_0x273fe3;else{if(isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x1e3))_0x14b1fe=player1Lives>0x0?Math[_0x2efec0(0x169)](0x0,player1Lives-0x1):0x0;else isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x21a)?currentPlayer===0x1?_0x14b1fe=playerLives>0x0?Math[_0x2efec0(0x169)](0x0,playerLives-0x1):0x0:_0x14b1fe=player1Lives>0x0?Math[_0x2efec0(0x169)](0x0,player1Lives-0x1):0x0:_0x14b1fe=playerLives>0x0?Math[_0x2efec0(0x169)](0x0,playerLives-0x1):0x0;}}}if(_0x14b1fe>0x0){let _0x5050a1=LIFE_ICON_MARGIN_LEFT;for(let _0x238422=0x0;_0x238422<Math['min'](_0x14b1fe,_0x1e7eef);_0x238422++){const _0x1aab60=_0x5050a1+_0x238422*(LIFE_ICON_SIZE+LIFE_ICON_SPACING);gameCtx[_0x2efec0(0x15c)](shipImage,Math[_0x2efec0(0x15f)](_0x1aab60),Math[_0x2efec0(0x15f)](_0x486932),LIFE_ICON_SIZE,LIFE_ICON_SIZE);}}if(!_0x1a5aac){if(!isInGameState||isShowingScoreScreen||isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage||gameOverSequenceStartTime>0x0)(_0x312f8b||!isInGameState&&(!isPlayerSelectMode||selectedButtonIndex===0x1))&&(_0x36c8e4=player2Lives<=0x0?0x0:_0x273fe3);else{if(isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x1e3))_0x36c8e4=player2Lives>0x0?Math[_0x2efec0(0x169)](0x0,player2Lives-0x1):0x0;else isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x21a)&&(currentPlayer===0x2?_0x36c8e4=playerLives>0x0?Math[_0x2efec0(0x169)](0x0,playerLives-0x1):0x0:_0x36c8e4=player2Lives>0x0?Math['max'](0x0,player2Lives-0x1):0x0);}const _0x39d054=Math[_0x2efec0(0x195)](_0x36c8e4,_0x1e7eef),_0x472bc9=!isInGameState&&(isPlayerSelectMode&&selectedButtonIndex===0x1||isGameModeSelectMode&&(selectedButtonIndex===0x0||selectedButtonIndex===0x1)||isFiringModeSelectMode&&isTwoPlayerMode&&!isPlayerTwoAI),_0x49d64d=!isInGameState&&(isOnePlayerVsAIGameTypeSelectMode&&selectedButtonIndex===0x1||isFiringModeSelectMode&&isPlayerTwoAI&&selectedGameMode===_0x2efec0(0x1e3));if(_0x39d054>0x0&&(_0x312f8b&&isInGameState||_0x472bc9||_0x49d64d)){const _0x276aa7=_0x39d054*LIFE_ICON_SIZE+Math['max'](0x0,_0x39d054-0x1)*LIFE_ICON_SPACING,_0x1a9055=gameCanvas[_0x2efec0(0x23a)]-(typeof LEVEL_ICON_MARGIN_RIGHT!==_0x2efec0(0x204)?LEVEL_ICON_MARGIN_RIGHT:MARGIN_SIDE)-_0x276aa7;for(let _0x1e977f=0x0;_0x1e977f<_0x39d054;_0x1e977f++){const _0x483c73=_0x1a9055+_0x1e977f*(LIFE_ICON_SIZE+LIFE_ICON_SPACING);gameCtx[_0x2efec0(0x15c)](shipImage,Math['round'](_0x483c73),Math[_0x2efec0(0x15f)](_0x486932),LIFE_ICON_SIZE,LIFE_ICON_SIZE);}}}}}const _0x4e5b56=[{'val':0x32,'img':level50Image},{'val':0x1e,'img':level30Image},{'val':0x14,'img':level20Image},{'val':0xa,'img':level10Image},{'val':0x5,'img':level5Image},{'val':0x1,'img':level1Image}],_0x4403fb=(_0x2aeade,_0x273804)=>{const _0x5dbc9b=_0x2efec0,_0x4753ee=!isTwoPlayerMode&&selectedGameMode==='normal'&&(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0||isShowingResultsScreen);if(_0x1a5aac&&_0x273804||_0x4753ee&&_0x273804)return;let _0x121ba1=Math[_0x5dbc9b(0x169)](0x1,_0x2aeade);if(_0x121ba1<=0x0||typeof LEVEL_ICON_MARGIN_BOTTOM===_0x5dbc9b(0x204)||typeof LEVEL_ICON_SIZE===_0x5dbc9b(0x204)||typeof LEVEL_ICON_MARGIN_RIGHT===_0x5dbc9b(0x204)||typeof LEVEL_ICON_SPACING===_0x5dbc9b(0x204))return;let _0x46802e=_0x121ba1,_0x54b76d=[],_0x23dc5e=new Set();const _0x350254=(_0x1bda31,_0x3ebe11,_0x5cdc1)=>{const _0x3459d5=_0x5dbc9b;let _0x458c69=_0x1bda31,_0x1485f9=new Set(_0x5cdc1);for(let _0x337ccd=_0x3ebe11;_0x337ccd<_0x4e5b56[_0x3459d5(0x1e1)];_0x337ccd++){const _0x515a87=_0x4e5b56[_0x337ccd][_0x3459d5(0x258)];if(_0x458c69>=_0x515a87){const _0x4cf705=_0x1485f9[_0x3459d5(0x1db)]>=0x3&&!_0x1485f9[_0x3459d5(0x166)](_0x515a87);if(!_0x4cf705||_0x515a87===0x1){const _0x5847fa=Math[_0x3459d5(0x1bd)](_0x458c69/_0x515a87);_0x458c69-=_0x5847fa*_0x515a87,_0x1485f9[_0x3459d5(0x246)](_0x515a87);if(_0x458c69===0x0)return!![];}}}return _0x458c69===0x0;};for(let _0x56f40b=0x0;_0x56f40b<_0x4e5b56[_0x5dbc9b(0x1e1)]-0x1;_0x56f40b++){const _0xf1798c=_0x4e5b56[_0x56f40b],_0x4430f2=_0xf1798c[_0x5dbc9b(0x258)],_0x155b28=_0xf1798c['img'];if(_0x46802e>=_0x4430f2){const _0x1c5ccd=Math[_0x5dbc9b(0x1bd)](_0x46802e/_0x4430f2);for(let _0x2b077c=_0x1c5ccd;_0x2b077c>=0x1;_0x2b077c--){const _0x2b88b6=_0x46802e-_0x2b077c*_0x4430f2;let _0x25142d=new Set(_0x23dc5e);_0x25142d[_0x5dbc9b(0x246)](_0x4430f2);if(_0x25142d['size']<=0x3||_0x25142d[_0x5dbc9b(0x1db)]>0x3&&_0x25142d['has'](0x1)&&_0x4430f2===0x1){if(_0x350254(_0x2b88b6,_0x56f40b+0x1,_0x25142d)){for(let _0x146967=0x0;_0x146967<_0x2b077c;_0x146967++){_0x54b76d[_0x5dbc9b(0x20b)](_0x155b28);}_0x46802e=_0x2b88b6,_0x23dc5e[_0x5dbc9b(0x246)](_0x4430f2);break;}}}}if(_0x46802e===0x0)break;}if(_0x46802e>0x0){for(let _0x5a7b44=0x0;_0x5a7b44<_0x46802e;_0x5a7b44++){_0x54b76d[_0x5dbc9b(0x20b)](level1Image);}_0x46802e=0x0;}if(_0x54b76d[_0x5dbc9b(0x1e1)]===0x0&&_0x121ba1>0x0){for(let _0x175cbb=0x0;_0x175cbb<_0x121ba1;_0x175cbb++)_0x54b76d[_0x5dbc9b(0x20b)](level1Image);}if(_0x54b76d[_0x5dbc9b(0x1e1)]===0x0)return;const _0x4ccf75=_0x54b76d[_0x5dbc9b(0x1e1)],_0xae7ec=_0x4ccf75*LEVEL_ICON_SIZE+Math[_0x5dbc9b(0x169)](0x0,_0x4ccf75-0x1)*LEVEL_ICON_SPACING,_0x896d1d=gameCanvas[_0x5dbc9b(0x1e6)]-LEVEL_ICON_MARGIN_BOTTOM-LEVEL_ICON_SIZE;let _0x32acc8,_0x229a2a=0x0;const _0x57adfb=_0x273804?player1Lives:player2Lives,_0x46176b=_0x273804?0x1:0x2;let _0x326aa4=0x0;const _0x4d7c29=gameOverSequenceStartTime>0x0||isShowingResultsScreen||isShowingPlayerGameOverMessage&&playerWhoIsGameOver===_0x46176b||isPlayer1ShowingGameOverMessage&&_0x273804||isPlayer2ShowingGameOverMessage&&!_0x273804;if(!isInGameState||isShowingScoreScreen||_0x4d7c29){if(_0x4753ee&&_0x273804)_0x326aa4=_0x273fe3;else{if(_0x1a5aac&&_0x273804)_0x326aa4=_0x273fe3;else _0x1a5aac&&!_0x273804?_0x326aa4=0x0:_0x326aa4=_0x57adfb<=0x0?0x0:_0x273fe3;}}else{if(isInGameState){const _0x21d9e3=isTwoPlayerMode&&selectedGameMode===_0x5dbc9b(0x21a)&&currentPlayer===_0x46176b?playerLives:_0x57adfb;_0x326aa4=_0x21d9e3>0x0?Math[_0x5dbc9b(0x169)](0x0,_0x21d9e3-0x1):0x0;}}_0x326aa4=Math[_0x5dbc9b(0x195)](_0x326aa4,_0x1e7eef);_0x326aa4>0x0?_0x229a2a=_0x326aa4*LIFE_ICON_SIZE+(_0x326aa4-0x1)*LIFE_ICON_SPACING:_0x229a2a=-LIFE_ICON_SPACING;if(isTwoPlayerMode&&selectedGameMode===_0x5dbc9b(0x1e3)){const _0x3c30e1=0xf;if(_0x273804)_0x32acc8=LIFE_ICON_MARGIN_LEFT+_0x229a2a+_0x3c30e1;else{const _0x35b18f=gameCanvas[_0x5dbc9b(0x23a)]-LEVEL_ICON_MARGIN_RIGHT-_0x229a2a;_0x32acc8=_0x35b18f-_0xae7ec-_0x3c30e1;}}else{if(isTwoPlayerMode&&selectedGameMode===_0x5dbc9b(0x21a)){const _0x389951=0xf;if(_0x273804)_0x32acc8=LIFE_ICON_MARGIN_LEFT+_0x229a2a+_0x389951;else{const _0xe06eab=gameCanvas[_0x5dbc9b(0x23a)]-LEVEL_ICON_MARGIN_RIGHT-_0x229a2a;_0x32acc8=_0xe06eab-_0xae7ec-_0x389951;}}else _0x32acc8=gameCanvas[_0x5dbc9b(0x23a)]-LEVEL_ICON_MARGIN_RIGHT-_0xae7ec;}let _0x14aff2=_0x32acc8;for(const _0x1aebe4 of _0x54b76d){_0x1aebe4&&_0x1aebe4[_0x5dbc9b(0x192)]&&_0x1aebe4['naturalHeight']!==0x0&&gameCtx[_0x5dbc9b(0x15c)](_0x1aebe4,Math[_0x5dbc9b(0x15f)](_0x14aff2),Math[_0x5dbc9b(0x15f)](_0x896d1d),LEVEL_ICON_SIZE,LEVEL_ICON_SIZE),_0x14aff2+=LEVEL_ICON_SIZE+LEVEL_ICON_SPACING;}};let _0x174f35,_0x30f019;if(isInGameState&&!isShowingPlayerGameOverMessage&&!isPlayer1ShowingGameOverMessage&&!isPlayer2ShowingGameOverMessage&&gameOverSequenceStartTime===0x0){if(isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x21a))_0x174f35=currentPlayer===0x1?level:player1MaxLevelReached,_0x30f019=currentPlayer===0x2?level:player2MaxLevelReached;else isTwoPlayerMode&&selectedGameMode==='coop'?(_0x174f35=player1Lives>0x0?level:player1MaxLevelReached,_0x30f019=player2Lives>0x0?level:player2MaxLevelReached):_0x174f35=level;}else _0x174f35=player1MaxLevelReached,(_0x312f8b||isTwoPlayerMode)&&(_0x30f019=player2MaxLevelReached);_0x4403fb(Math['max'](0x1,_0x174f35),!![]);const _0x5a319d=!isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x21a)&&(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0||isShowingResultsScreen);if(_0x5a319d)_0x4403fb(Math['max'](0x1,player1MaxLevelReached),![]);else{if(_0x312f8b||isTwoPlayerMode){if(typeof _0x30f019===_0x2efec0(0x1e8)&&_0x30f019>0x0)_0x4403fb(Math[_0x2efec0(0x169)](0x1,_0x30f019),![]);else player2MaxLevelReached>0x0&&_0x4403fb(Math[_0x2efec0(0x169)](0x1,player2MaxLevelReached),![]);}}gameCtx[_0x2efec0(0x18a)](),gameCtx['save']();let _0x2ebff2=![],_0x4c7798=!isInGameState||isShowingScoreScreen||isShowingResultsScreen||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage;_0x4c7798&&(_0x2ebff2=!![]);const _0x442abb=showCsBonusScoreMessage||showPerfectMessage;if(_0x2ebff2){const _0x592f63=Math[_0x2efec0(0x15f)](gameCanvas[_0x2efec0(0x23a)]/0x2-SHIP_WIDTH/0x2),_0x1f3760=gameCanvas['height']-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN;typeof shipImage!=='undefined'&&shipImage['complete']&&shipImage[_0x2efec0(0x187)]!==0x0?gameCtx[_0x2efec0(0x15c)](shipImage,_0x592f63,_0x1f3760,SHIP_WIDTH,SHIP_HEIGHT):(gameCtx[_0x2efec0(0x245)]='blue',gameCtx[_0x2efec0(0x22c)](_0x592f63,_0x1f3760,SHIP_WIDTH,SHIP_HEIGHT));}else{if(isInGameState&&!isShowingPlayerGameOverMessage&&!isPlayer1ShowingGameOverMessage&&!isPlayer2ShowingGameOverMessage&&gameOverSequenceStartTime===0x0){if(isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x1e3)){const _0x10a8f3=ship1&&player1Lives>0x0,_0x25b1ff=ship2&&player2Lives>0x0;if(_0x10a8f3&&(!isPlayer1ShipCaptured||isPlayer1ShipCaptured&&!isShowingCaptureMessage)){let _0x43960a=!![];if((isPlayer1Invincible||isPlayer1WaitingForRespawn)&&!isShowingCoopPlayersReady&&!isShowingCaptureMessage){const _0x473047=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS;if(_0x4dea07%_0x473047>=INVINCIBILITY_BLINK_ON_MS)_0x43960a=![];}if(_0x442abb){if(isCoopAIDemoActive&&!_0x25b1ff){}else{if(isCoopAIDemoActive&&_0x10a8f3&&_0x25b1ff){}else isCoopAIDemoActive&&(_0x43960a=![]);}}if(_0x43960a){const _0x570fb6=ship1['x'],_0xa3dc88=ship1['y'];typeof shipImage!==_0x2efec0(0x204)&&shipImage[_0x2efec0(0x192)]&&shipImage[_0x2efec0(0x187)]!==0x0?(gameCtx[_0x2efec0(0x15c)](shipImage,Math[_0x2efec0(0x15f)](_0x570fb6),Math['round'](_0xa3dc88),ship1[_0x2efec0(0x23a)],ship1[_0x2efec0(0x1e6)]),player1IsDualShipActive&&gameCtx['drawImage'](shipImage,Math[_0x2efec0(0x15f)](_0x570fb6+DUAL_SHIP_OFFSET_X),Math[_0x2efec0(0x15f)](_0xa3dc88),ship1['width'],ship1['height'])):(gameCtx[_0x2efec0(0x245)]=_0x2efec0(0x17e),gameCtx[_0x2efec0(0x22c)](Math[_0x2efec0(0x15f)](_0x570fb6),Math[_0x2efec0(0x15f)](_0xa3dc88),ship1[_0x2efec0(0x23a)],ship1[_0x2efec0(0x1e6)]));}}if(_0x25b1ff&&(!isPlayer2ShipCaptured||isPlayer2ShipCaptured&&!isShowingCaptureMessage)){let _0xe105f=!![];if((isPlayer2Invincible||isPlayer2WaitingForRespawn)&&!isShowingCoopPlayersReady&&!isShowingCaptureMessage){const _0x5298c8=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS;if(_0x4dea07%_0x5298c8>=INVINCIBILITY_BLINK_ON_MS)_0xe105f=![];}if(_0x442abb){if(isCoopAIDemoActive){if(!_0x10a8f3){}else{if(_0x10a8f3&&_0x25b1ff){}else _0xe105f=![];}}}if(_0xe105f){const _0x2777cd=ship2['x'],_0x28830a=ship2['y'];typeof shipImage!==_0x2efec0(0x204)&&shipImage['complete']&&shipImage['naturalHeight']!==0x0?(gameCtx[_0x2efec0(0x15c)](shipImage,Math[_0x2efec0(0x15f)](_0x2777cd),Math[_0x2efec0(0x15f)](_0x28830a),ship2[_0x2efec0(0x23a)],ship2[_0x2efec0(0x1e6)]),player2IsDualShipActive&&gameCtx[_0x2efec0(0x15c)](shipImage,Math[_0x2efec0(0x15f)](_0x2777cd+DUAL_SHIP_OFFSET_X),Math['round'](_0x28830a),ship2[_0x2efec0(0x23a)],ship2[_0x2efec0(0x1e6)])):(gameCtx['fillStyle']=_0x2efec0(0x1f2),gameCtx[_0x2efec0(0x22c)](Math[_0x2efec0(0x15f)](_0x2777cd),Math['round'](_0x28830a),ship2['width'],ship2[_0x2efec0(0x1e6)]));}}}else{if(ship&&playerLives>0x0&&!isShipCaptured&&!isShowingCaptureMessage){let _0x5b7d27=!![];if(isInvincible||isWaitingForRespawn){const _0x5d9e04=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS;if(_0x4dea07%_0x5d9e04>=INVINCIBILITY_BLINK_ON_MS)_0x5b7d27=![];}if(_0x5b7d27&&!(_0x442abb&&(!isManualControl||isPlayerTwoAI&&selectedGameMode===_0x2efec0(0x21a))&&!isCoopAIDemoActive)){let _0x534326=ship['x'],_0xa19531=isShowingIntro&&(!isManualControl||isPlayerTwoAI&&selectedGameMode===_0x2efec0(0x21a))&&selectedGameMode!=='coop'&&!isDualShipActive;_0xa19531&&(_0x534326=Math[_0x2efec0(0x15f)](gameCanvas[_0x2efec0(0x23a)]/0x2-ship[_0x2efec0(0x23a)]/0x2));const _0x1f0395=ship['y'];typeof shipImage!==_0x2efec0(0x204)&&shipImage['complete']&&shipImage[_0x2efec0(0x187)]!==0x0?(gameCtx[_0x2efec0(0x15c)](shipImage,Math['round'](_0x534326),Math['round'](_0x1f0395),ship[_0x2efec0(0x23a)],ship[_0x2efec0(0x1e6)]),isDualShipActive&&gameCtx['drawImage'](shipImage,Math['round'](_0x534326+DUAL_SHIP_OFFSET_X),Math[_0x2efec0(0x15f)](_0x1f0395),ship[_0x2efec0(0x23a)],ship[_0x2efec0(0x1e6)])):(gameCtx[_0x2efec0(0x245)]=_0x2efec0(0x17e),gameCtx[_0x2efec0(0x22c)](Math['round'](_0x534326),Math[_0x2efec0(0x15f)](_0x1f0395),ship['width'],ship[_0x2efec0(0x1e6)]));}}}}}fallingShips[_0x2efec0(0x1e1)]>0x0&&typeof shipImage!==_0x2efec0(0x204)&&shipImage[_0x2efec0(0x192)]&&fallingShips[_0x2efec0(0x1cf)](_0x170f43=>{const _0x16f414=_0x2efec0;if(_0x170f43){gameCtx[_0x16f414(0x1c6)]();const _0x421b4e=_0x170f43['x']+_0x170f43[_0x16f414(0x23a)]/0x2,_0x10d564=_0x170f43['y']+_0x170f43[_0x16f414(0x1e6)]/0x2;gameCtx[_0x16f414(0x160)](_0x421b4e,_0x10d564),gameCtx[_0x16f414(0x1fc)](_0x170f43[_0x16f414(0x21f)]||0x0);const _0xc2647f=-_0x170f43[_0x16f414(0x23a)]/0x2,_0x35a241=-_0x170f43[_0x16f414(0x1e6)]/0x2,_0x6b9f92=_0x170f43[_0x16f414(0x23a)],_0x316165=_0x170f43[_0x16f414(0x1e6)];gameCtx['drawImage'](shipImage,_0xc2647f,_0x35a241,_0x6b9f92,_0x316165),typeof _0x170f43[_0x16f414(0x1f9)]==='number'&&_0x170f43[_0x16f414(0x1f9)]>0.01&&(gameCtx[_0x16f414(0x1c6)](),gameCtx[_0x16f414(0x252)]=_0x170f43['tintProgress'],gameCtx[_0x16f414(0x245)]=CAPTURED_SHIP_TINT_COLOR,gameCtx['globalCompositeOperation']=_0x16f414(0x1e7),gameCtx[_0x16f414(0x22c)](_0xc2647f,_0x35a241,_0x6b9f92,_0x316165),gameCtx[_0x16f414(0x18a)]()),gameCtx[_0x16f414(0x18a)]();}});gameCtx[_0x2efec0(0x18a)]();if(!isInGameState){if(isShowingScoreScreen){if(typeof LIFE_ICON_SIZE!==_0x2efec0(0x204)){gameCtx[_0x2efec0(0x1c6)]();const _0x526d60=gameCanvas[_0x2efec0(0x23a)]/0x2;let _0x158f9a=gameCanvas[_0x2efec0(0x1e6)]*0.25+SCORE_SCREEN_VERTICAL_OFFSET+SCORE_SCREEN_LINE_V_SPACING,_0x93aa7b=0x0,_0x15d9e7=_0x158f9a+0x0;drawCanvasText(_0x2efec0(0x1d8),_0x526d60,_0x15d9e7-0x1e,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP,'center','middle',!![]);let _0x62a190=_0x15d9e7+SCORE_SCREEN_LINE_V_SPACING*1.8;const _0x2d78a4=_0x2efec0(0x20d)+EXTRA_LIFE_THRESHOLD_1+_0x2efec0(0x220);gameCtx[_0x2efec0(0x1d3)]=SCORE_SCREEN_TEXT_FONT;const _0x3e104a=gameCtx[_0x2efec0(0x206)](_0x2d78a4)[_0x2efec0(0x23a)],_0x3a9f1c=LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING+_0x3e104a;_0x93aa7b=_0x526d60-_0x3a9f1c/0x2-0x1e;typeof shipImage!==_0x2efec0(0x204)&&shipImage[_0x2efec0(0x192)]&&shipImage[_0x2efec0(0x187)]!==0x0&&gameCtx[_0x2efec0(0x15c)](shipImage,Math[_0x2efec0(0x15f)](_0x93aa7b),Math[_0x2efec0(0x15f)](_0x62a190-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x2d78a4,_0x93aa7b+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x62a190,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x2efec0(0x249),_0x2efec0(0x227),![]);let _0x3e0faa=_0x62a190+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x4b2c3e=_0x2efec0(0x244)+EXTRA_LIFE_THRESHOLD_2+_0x2efec0(0x220);typeof shipImage!=='undefined'&&shipImage[_0x2efec0(0x192)]&&shipImage[_0x2efec0(0x187)]!==0x0&&gameCtx[_0x2efec0(0x15c)](shipImage,Math['round'](_0x93aa7b),Math[_0x2efec0(0x15f)](_0x3e0faa-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x4b2c3e,_0x93aa7b+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x3e0faa,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x2efec0(0x249),_0x2efec0(0x227),![]);let _0x2c844d=_0x3e0faa+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x14b3cd='\x20EXT\x20LIFE\x20FOR\x20EVERY\x20'+RECURRING_EXTRA_LIFE_INTERVAL+'\x20PTS';typeof shipImage!==_0x2efec0(0x204)&&shipImage['complete']&&shipImage[_0x2efec0(0x187)]!==0x0&&gameCtx['drawImage'](shipImage,Math[_0x2efec0(0x15f)](_0x93aa7b),Math[_0x2efec0(0x15f)](_0x2c844d-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x14b3cd,_0x93aa7b+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x2c844d,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x2efec0(0x249),'middle',![]);let _0x131833=_0x2c844d+SCORE_SCREEN_LINE_V_SPACING*1.8;drawCanvasText(_0x2efec0(0x22d),_0x526d60-0xa,_0x131833+0x1e,MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x2efec0(0x21b),'middle',![]),gameCtx['restore']();}}else{gameCtx[_0x2efec0(0x1c6)]();const _0x140026=gameCanvas['width'],_0x1d49fa=gameCanvas['height'],_0x11322f=_0x140026/0x2;selectedButtonIndex===-0x1&&(isPlayerSelectMode||isOnePlayerGameTypeSelectMode||isOnePlayerVsAIGameTypeSelectMode||isGameModeSelectMode||isFiringModeSelectMode||!isPlayerSelectMode&&!isOnePlayerGameTypeSelectMode&&!isOnePlayerVsAIGameTypeSelectMode&&!isGameModeSelectMode&&!isFiringModeSelectMode)&&(selectedButtonIndex=0x0);let _0x146a28=MENU_LOGO_APPROX_HEIGHT,_0x17c566=_0x146a28*(logoImage[_0x2efec0(0x188)]/logoImage[_0x2efec0(0x187)]||0x1);typeof logoImage!==_0x2efec0(0x204)&&logoImage[_0x2efec0(0x192)]&&logoImage[_0x2efec0(0x187)]!==0x0&&(_0x146a28=logoImage[_0x2efec0(0x187)]*LOGO_SCALE_FACTOR,_0x17c566=logoImage[_0x2efec0(0x188)]*LOGO_SCALE_FACTOR);const _0x189124=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x49f0ed=_0x146a28+MENU_LOGO_BOTTOM_TO_START_GAP+0x2*MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_SUBTITLE_V_GAP+_0x189124;let _0x160ff9=(_0x1d49fa-_0x49f0ed)/0x2-0x46;_0x160ff9+=MENU_GENERAL_Y_OFFSET;const _0x50c088=_0x11322f-_0x17c566/0x2,_0x163e5b=_0x160ff9+MENU_LOGO_EXTRA_Y_OFFSET;typeof logoImage!==_0x2efec0(0x204)&&logoImage[_0x2efec0(0x192)]&&logoImage[_0x2efec0(0x187)]!==0x0?gameCtx[_0x2efec0(0x15c)](logoImage,Math[_0x2efec0(0x15f)](_0x50c088),Math['round'](_0x163e5b),_0x17c566,_0x146a28):drawCanvasText(_0x2efec0(0x179),_0x11322f,_0x163e5b+_0x146a28/0x2,_0x2efec0(0x181),'grey');if(isPlayerSelectMode)drawCanvasButton(_0x2efec0(0x24a),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x2efec0(0x24b),0x1,selectedButtonIndex===0x1);else{if(isOnePlayerGameTypeSelectMode)drawCanvasButton(_0x2efec0(0x19e),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x2efec0(0x1f7),0x1,selectedButtonIndex===0x1);else{if(isOnePlayerVsAIGameTypeSelectMode)drawCanvasButton('NORMAL\x20GAME',0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x2efec0(0x16d),0x1,selectedButtonIndex===0x1);else{if(isGameModeSelectMode)drawCanvasButton(_0x2efec0(0x19e),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x2efec0(0x16d),0x1,selectedButtonIndex===0x1);else isFiringModeSelectMode?(drawCanvasButton(_0x2efec0(0x243),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x2efec0(0x251),0x1,selectedButtonIndex===0x1)):(drawCanvasButton(_0x2efec0(0x164),0x0,selectedButtonIndex===0x0),drawCanvasButton('GAME\x20EXIT',0x1,selectedButtonIndex===0x1));}}}const _0x104727=getMenuButtonRect(0x1);let _0x4d2c8e;_0x104727?_0x4d2c8e=_0x104727['y']+_0x104727['height']+MENU_BUTTON_SUBTITLE_V_GAP+_0x189124/0x2:_0x4d2c8e=_0x160ff9+_0x146a28+MENU_LOGO_BOTTOM_TO_START_GAP+0x2*MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_SUBTITLE_V_GAP+_0x189124/0x2,drawCanvasText(MENU_SUBTITLE_TEXT,_0x11322f-0x1,Math['round'](_0x4d2c8e),MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x2efec0(0x21b),_0x2efec0(0x227),!![]),gameCtx[_0x2efec0(0x18a)]();}}else{const _0x449bde=gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage&&!isShowingResultsScreen,_0x226555=isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x1e3)&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);if(_0x449bde||_0x226555){gameCtx[_0x2efec0(0x1c6)]();let _0x4e088a=!showReadyMessage&&!showCsHitsMessage&&!showPerfectMessage&&!showCsBonusScoreMessage&&!showCSClearMessage&&!isCsCompletionDelayActive&&!isShowingIntro&&!isShowingCaptureMessage&&!isShowingCoopPlayersReady&&!_0x226555;_0x4e088a&&(bullets['forEach'](_0x4fa41a=>{const _0x3bb72f=_0x2efec0;_0x4fa41a&&(typeof bulletImage!=='undefined'&&bulletImage['complete']?gameCtx[_0x3bb72f(0x15c)](bulletImage,Math[_0x3bb72f(0x15f)](_0x4fa41a['x']),Math['round'](_0x4fa41a['y']),_0x4fa41a[_0x3bb72f(0x23a)],_0x4fa41a[_0x3bb72f(0x1e6)]):(gameCtx[_0x3bb72f(0x245)]=_0x3bb72f(0x237),gameCtx[_0x3bb72f(0x22c)](Math[_0x3bb72f(0x15f)](_0x4fa41a['x']),Math[_0x3bb72f(0x15f)](_0x4fa41a['y']),_0x4fa41a[_0x3bb72f(0x23a)],_0x4fa41a['height'])));}),enemyBullets[_0x2efec0(0x1cf)](_0x24e680=>{const _0x3e9c80=_0x2efec0;_0x24e680&&(typeof enemyBulletImage!==_0x3e9c80(0x204)&&enemyBulletImage[_0x3e9c80(0x192)]&&enemyBulletImage[_0x3e9c80(0x188)]>0x0?gameCtx[_0x3e9c80(0x15c)](enemyBulletImage,Math[_0x3e9c80(0x15f)](_0x24e680['x']),Math[_0x3e9c80(0x15f)](_0x24e680['y']),_0x24e680['width'],_0x24e680[_0x3e9c80(0x1e6)]):(gameCtx[_0x3e9c80(0x245)]=_0x3e9c80(0x1ee),gameCtx[_0x3e9c80(0x22c)](Math['round'](_0x24e680['x']),Math['round'](_0x24e680['y']),_0x24e680[_0x3e9c80(0x23a)],_0x24e680['height'])));}));!isShowingCoopPlayersReady&&enemies[_0x2efec0(0x1cf)](_0x31e9eb=>{const _0xec3e75=_0x2efec0;if(_0x31e9eb&&_0x31e9eb['y']<gameCanvas['height']+_0x31e9eb['height']*0x2&&_0x31e9eb['y']>-_0x31e9eb[_0xec3e75(0x1e6)]*0x2){gameCtx['save']();try{let _0x45206a=null,_0x2ae78e=_0xec3e75(0x168);const _0x47d589=!isPaused&&_0x4dea07%(ENEMY_ANIMATION_INTERVAL_MS*0x2)>=ENEMY_ANIMATION_INTERVAL_MS;if(_0x31e9eb[_0xec3e75(0x242)]===ENEMY3_TYPE)_0x45206a=_0x47d589?bossGalagaImage2:bossGalagaImage,_0x2ae78e=_0xec3e75(0x1f3);else _0x31e9eb[_0xec3e75(0x242)]===ENEMY2_TYPE?(_0x45206a=_0x47d589?butterflyImage2:butterflyImage,_0x2ae78e=_0xec3e75(0x1fe)):(_0x45206a=_0x47d589?beeImage2:beeImage,_0x2ae78e=_0xec3e75(0x18d));const _0x5747d3=Math[_0xec3e75(0x15f)](_0x31e9eb['x']),_0x14cbe4=Math['round'](_0x31e9eb['y']),_0x3c4aef=_0x31e9eb[_0xec3e75(0x23a)],_0x18b8d6=_0x31e9eb['height'],_0x10d54c=_0x31e9eb[_0xec3e75(0x242)]===ENEMY3_TYPE&&_0x31e9eb['isDamaged'],_0xc142cf=!isPaused&&(_0x31e9eb[_0xec3e75(0x1d4)]===_0xec3e75(0x1bf)||_0x31e9eb['state']==='following_bezier_path'||_0x31e9eb[_0xec3e75(0x1d4)]==='following_entrance_path')&&_0x31e9eb['y']>-_0x31e9eb[_0xec3e75(0x1e6)]*0.5&&(Math[_0xec3e75(0x184)](_0x31e9eb[_0xec3e75(0x171)])>0.1||Math['abs'](_0x31e9eb[_0xec3e75(0x1a2)])>0.1),_0x1c655c=_0x31e9eb[_0xec3e75(0x1d4)]===_0xec3e75(0x24f)&&_0x31e9eb[_0xec3e75(0x242)]===ENEMY3_TYPE&&_0x31e9eb[_0xec3e75(0x253)]&&_0x31e9eb['capturedShipDimensions']&&typeof _0x31e9eb[_0xec3e75(0x1c3)]===_0xec3e75(0x1e8)&&typeof _0x31e9eb[_0xec3e75(0x1bb)]===_0xec3e75(0x1e8)&&typeof _0x31e9eb[_0xec3e75(0x1a9)]===_0xec3e75(0x1e8),_0x35ab20=_0x31e9eb[_0xec3e75(0x1d4)]!==_0xec3e75(0x24f)&&_0x31e9eb[_0xec3e75(0x242)]===ENEMY3_TYPE&&_0x31e9eb[_0xec3e75(0x253)]&&_0x31e9eb[_0xec3e75(0x21c)],_0x297568=_0x1c655c||_0x35ab20?_0x31e9eb['capturedShipDimensions'][_0xec3e75(0x23a)]:0x0,_0x491ecf=_0x1c655c||_0x35ab20?_0x31e9eb['capturedShipDimensions'][_0xec3e75(0x1e6)]:0x0;let _0x1e644f=0x0,_0x346359=0x0;if(_0x1c655c)_0x1e644f=Math['round'](_0x31e9eb[_0xec3e75(0x1c3)]),_0x346359=Math[_0xec3e75(0x15f)](_0x31e9eb['capturedShipY']);else _0x35ab20&&(_0x1e644f=Math[_0xec3e75(0x15f)](_0x31e9eb['x']+CAPTURED_SHIP_OFFSET_X),_0x346359=Math['round'](_0x31e9eb['y']+CAPTURED_SHIP_OFFSET_Y));const _0x52b90f=(_0x5ae217,_0x5c6260,_0x15c762,_0x5b9c27)=>{const _0x4d4658=_0xec3e75;typeof _0x45206a!==_0x4d4658(0x204)&&_0x45206a[_0x4d4658(0x192)]&&_0x45206a['naturalHeight']!==0x0?gameCtx[_0x4d4658(0x15c)](_0x45206a,_0x5ae217,_0x5c6260,_0x15c762,_0x5b9c27):(gameCtx['fillStyle']=_0x2ae78e,gameCtx['fillRect'](_0x5ae217,_0x5c6260,_0x15c762,_0x5b9c27)),_0x10d54c&&(gameCtx[_0x4d4658(0x20a)]=_0x4d4658(0x1e7),gameCtx['fillStyle']=_0x4d4658(0x1c9),gameCtx[_0x4d4658(0x22c)](_0x5ae217,_0x5c6260,_0x15c762,_0x5b9c27),gameCtx[_0x4d4658(0x20a)]=_0x4d4658(0x1d9));};if(_0xc142cf){const _0x864d36=_0x5747d3+_0x3c4aef/0x2,_0x510b10=_0x14cbe4+_0x18b8d6/0x2;gameCtx[_0xec3e75(0x160)](_0x864d36,_0x510b10);let _0x420747=Math[_0xec3e75(0x1e2)](_0x31e9eb[_0xec3e75(0x1a2)],_0x31e9eb[_0xec3e75(0x171)])+Math['PI']/0x2;if(_0x31e9eb[_0xec3e75(0x242)]===ENEMY3_TYPE&&_0x31e9eb[_0xec3e75(0x1d4)]===_0xec3e75(0x1bf))_0x420747+=Math['PI'];gameCtx[_0xec3e75(0x1fc)](_0x420747),_0x52b90f(-_0x3c4aef/0x2,-_0x18b8d6/0x2,_0x3c4aef,_0x18b8d6);if(_0x35ab20&&typeof shipImage!==_0xec3e75(0x204)&&shipImage[_0xec3e75(0x192)]){gameCtx['globalAlpha']=0.8;const _0x4b9752=CAPTURED_SHIP_OFFSET_X,_0x3fce37=CAPTURED_SHIP_OFFSET_Y;gameCtx[_0xec3e75(0x15c)](shipImage,_0x4b9752-_0x297568/0x2,_0x3fce37-_0x491ecf/0x2,_0x297568,_0x491ecf),gameCtx['globalAlpha']=0x1,gameCtx['save'](),gameCtx[_0xec3e75(0x245)]=CAPTURED_SHIP_TINT_COLOR,gameCtx['globalCompositeOperation']='source-atop',gameCtx[_0xec3e75(0x22c)](_0x4b9752-_0x297568/0x2,_0x3fce37-_0x491ecf/0x2,_0x297568,_0x491ecf),gameCtx[_0xec3e75(0x18a)]();}gameCtx['rotate'](-_0x420747),gameCtx['translate'](-_0x864d36,-_0x510b10);}else _0x52b90f(_0x5747d3,_0x14cbe4,_0x3c4aef,_0x18b8d6),_0x35ab20&&typeof shipImage!==_0xec3e75(0x204)&&shipImage[_0xec3e75(0x192)]&&(gameCtx[_0xec3e75(0x252)]=0.8,gameCtx['drawImage'](shipImage,_0x1e644f,_0x346359,_0x297568,_0x491ecf),gameCtx[_0xec3e75(0x252)]=0x1,gameCtx[_0xec3e75(0x1c6)](),gameCtx[_0xec3e75(0x245)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0xec3e75(0x20a)]=_0xec3e75(0x1e7),gameCtx['fillRect'](_0x1e644f,_0x346359,_0x297568,_0x491ecf),gameCtx['restore']());if(_0x1c655c&&typeof shipImage!==_0xec3e75(0x204)&&shipImage[_0xec3e75(0x192)]){gameCtx[_0xec3e75(0x1c6)]();const _0x4e773c=_0x1e644f+_0x297568/0x2,_0x295140=_0x346359+_0x491ecf/0x2;gameCtx[_0xec3e75(0x160)](_0x4e773c,_0x295140),gameCtx['rotate'](_0x31e9eb[_0xec3e75(0x1a9)]),gameCtx[_0xec3e75(0x252)]=0.8,gameCtx['drawImage'](shipImage,-_0x297568/0x2,-_0x491ecf/0x2,_0x297568,_0x491ecf),gameCtx[_0xec3e75(0x252)]=0x1,gameCtx[_0xec3e75(0x1c6)](),gameCtx[_0xec3e75(0x245)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0xec3e75(0x20a)]='source-atop',gameCtx['fillRect'](-_0x297568/0x2,-_0x491ecf/0x2,_0x297568,_0x491ecf),gameCtx[_0xec3e75(0x18a)](),gameCtx[_0xec3e75(0x18a)]();}}catch(_0x1f08b3){console['error'](_0xec3e75(0x24d),_0x1f08b3),gameCtx[_0xec3e75(0x245)]=_0xec3e75(0x173),gameCtx['fillRect'](Math[_0xec3e75(0x15f)](_0x31e9eb['x']),Math['round'](_0x31e9eb['y']),_0x31e9eb[_0xec3e75(0x23a)],_0x31e9eb[_0xec3e75(0x1e6)]);}finally{gameCtx[_0xec3e75(0x18a)]();}}});if(captureBeamActive&&capturingBossId&&captureBeamProgress>0x0&&!isShowingCoopPlayersReady){gameCtx['save']();const _0x51a75e=0.4+(Math[_0x2efec0(0x194)](_0x4dea07*CAPTURE_BEAM_PULSE_SPEED)+0x1)/0x2*0.6,_0x275caa=captureBeamProgress;gameCtx[_0x2efec0(0x252)]=_0x275caa*_0x51a75e;const _0x24864f=enemies['find'](_0x2c8619=>_0x2c8619['id']===capturingBossId);if(_0x24864f){const _0x5b25a4=_0x24864f['x']+BOSS_WIDTH/0x2,_0x19c324=_0x24864f['y']+BOSS_HEIGHT,_0x175896=gameCanvas[_0x2efec0(0x1e6)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE-0xa,_0x599da0=BOSS_WIDTH*CAPTURE_BEAM_WIDTH_TOP_FACTOR,_0x2724c8=SHIP_WIDTH*CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR;if(_0x19c324<_0x175896){const _0x3d961e=gameCtx[_0x2efec0(0x180)](_0x5b25a4,_0x19c324,_0x5b25a4,_0x175896);_0x3d961e[_0x2efec0(0x21e)](0x0,CAPTURE_BEAM_COLOR_START),_0x3d961e[_0x2efec0(0x21e)](0x1,CAPTURE_BEAM_COLOR_END),gameCtx[_0x2efec0(0x245)]=_0x3d961e,gameCtx[_0x2efec0(0x210)](),gameCtx[_0x2efec0(0x23b)](_0x5b25a4-_0x599da0/0x2,_0x19c324),gameCtx[_0x2efec0(0x1e5)](_0x5b25a4+_0x599da0/0x2,_0x19c324),gameCtx[_0x2efec0(0x1e5)](_0x5b25a4+_0x2724c8/0x2,_0x175896),gameCtx['lineTo'](_0x5b25a4-_0x2724c8/0x2,_0x175896),gameCtx[_0x2efec0(0x1ec)](),gameCtx['fill']();}}gameCtx[_0x2efec0(0x18a)]();}!isShowingCoopPlayersReady&&(renderExplosions(),renderFloatingScores(),renderHitSparks());let _0x4b9fac=![];const _0x54d8a0=gameCanvas['height']/0x2,_0x2f0c6c=gameCanvas[_0x2efec0(0x23a)]/0x2,_0x2c0566=_0x2efec0(0x1c5)+challengingStageEnemiesHit,_0x11677d=_0x2efec0(0x193)+scoreEarnedThisCS,_0x4e03ee=RESULTS_LINE_V_SPACING_SINGLE;if(isPaused)drawCanvasText(_0x2efec0(0x1dd),_0x2f0c6c,_0x54d8a0,PAUSE_TEXT_FONT,PAUSE_TEXT_COLOR,_0x2efec0(0x21b),_0x2efec0(0x227),PAUSE_TEXT_SHADOW),_0x4b9fac=!![];else{if(isTwoPlayerMode&&selectedGameMode==='coop'&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage)){const _0x32d170=gameCanvas['height']*0.45;if(isPlayer1ShowingGameOverMessage&&!isPlayer2ShowingGameOverMessage){const _0x111ed7=isCoopAIDemoActive?'AI\x20P1':isPlayerTwoAI&&selectedOnePlayerGameVariant===_0x2efec0(0x1aa)?'PLAYER\x201':_0x2efec0(0x24a);drawCanvasText(_0x111ed7[_0x2efec0(0x1cc)](),_0x2f0c6c,_0x32d170-_0x4e03ee/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,'center',_0x2efec0(0x227),!![]),drawCanvasText(_0x2efec0(0x230),_0x2f0c6c,_0x32d170+_0x4e03ee/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x2efec0(0x21b),_0x2efec0(0x227),!![]),_0x4b9fac=!![];}else{if(isPlayer2ShowingGameOverMessage&&!isPlayer1ShowingGameOverMessage){const _0x147cb9=isCoopAIDemoActive?_0x2efec0(0x1ba):isPlayerTwoAI?'AI\x20PLAYER\x202':_0x2efec0(0x24b);drawCanvasText(_0x147cb9[_0x2efec0(0x1cc)](),_0x2f0c6c,_0x32d170-_0x4e03ee/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x2efec0(0x21b),_0x2efec0(0x227),!![]),drawCanvasText(_0x2efec0(0x230),_0x2f0c6c,_0x32d170+_0x4e03ee/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x2efec0(0x21b),'middle',!![]),_0x4b9fac=!![];}}}else{if(isShowingCoopPlayersReady){const _0x2798e2=isCoopAIDemoActive?_0x2efec0(0x25a):isPlayerTwoAI&&selectedGameMode===_0x2efec0(0x1e3)?_0x2efec0(0x248):_0x2efec0(0x1ea);drawCanvasText(_0x2798e2,_0x2f0c6c,_0x54d8a0,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x2efec0(0x21b),'middle',!![]),_0x4b9fac=!![];}else{if(isShowingCaptureMessage)drawCanvasText(_0x2efec0(0x229),_0x2f0c6c,_0x54d8a0,INTRO_TEXT_FONT,'red',_0x2efec0(0x21b),_0x2efec0(0x227),!![]),_0x4b9fac=!![];else{if(!isManualControl&&isInGameState&&isShowingDemoText){const _0x5712f7=isShowingIntro||showCsBonusScoreMessage||showPerfectMessage||showCsHitsMessage||showCSClearMessage||showExtraLifeMessage||showReadyMessage||isCsCompletionDelayActive;if(!_0x5712f7){const _0x2c6f9e=DEMO_TEXT_BLINK_CYCLE_MS,_0x254a8d=DEMO_TEXT_BLINK_ON_MS;_0x4dea07%_0x2c6f9e<_0x254a8d&&(drawCanvasText(_0x2efec0(0x1d8),_0x2f0c6c,_0x54d8a0,DEMO_TEXT_LINE1_FONT,DEMO_TEXT_COLOR,_0x2efec0(0x21b),_0x2efec0(0x227),!![]),_0x4b9fac=!![]);}}}}}}if(!_0x4b9fac){if(showCsBonusScoreMessage||showPerfectMessage||showCsHitsMessage)drawCanvasText(_0x2c0566,_0x2f0c6c,_0x54d8a0,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x2efec0(0x21b),_0x2efec0(0x227),!![]),_0x4b9fac=!![],(showCsBonusScoreMessage||showPerfectMessage)&&drawCanvasText(_0x2efec0(0x196),_0x2f0c6c,_0x54d8a0-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,PERFECT_TEXT_COLOR,'center',_0x2efec0(0x227),!![]),showCsBonusScoreMessage&&drawCanvasText(_0x2efec0(0x191),_0x2f0c6c,_0x54d8a0+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_BONUS_SCORE_TEXT_COLOR,_0x2efec0(0x21b),_0x2efec0(0x227),!![]);else{if(showCSClearMessage)drawCanvasText(_0x2efec0(0x225),_0x2f0c6c,_0x54d8a0-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_TEXT_COLOR,_0x2efec0(0x21b),_0x2efec0(0x227),!![]),_0x4b9fac=!![],showCsHitsForClearMessage&&drawCanvasText(_0x2c0566,_0x2f0c6c,_0x54d8a0,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x2efec0(0x21b),'middle',!![]),showCsScoreForClearMessage&&drawCanvasText(_0x11677d,_0x2f0c6c,_0x54d8a0+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_SCORE_TEXT_COLOR,_0x2efec0(0x21b),_0x2efec0(0x227),!![]);else{if(showExtraLifeMessage)drawCanvasText(_0x2efec0(0x178),_0x2f0c6c,_0x54d8a0,INTRO_TEXT_FONT,EXTRA_LIFE_TEXT_COLOR,_0x2efec0(0x21b),_0x2efec0(0x227),!![]),_0x4b9fac=!![];else{if(isShowingIntro&&!isShowingCoopPlayersReady){let _0x3391bc='',_0x42552a=INTRO_TEXT_COLOR_NORMAL;if(introStep===0x1){if(!(selectedGameMode===_0x2efec0(0x1e3)&&level===0x1)){_0x3391bc=!isManualControl&&!isCoopAIDemoActive&&!isPlayerTwoAI?'AI\x20PLAYER\x20READY!':isCoopAIDemoActive?'AI\x20PLAYER\x201':isTwoPlayerMode&&selectedGameMode===_0x2efec0(0x21a)&&!isPlayerTwoAI?_0x2efec0(0x198)+currentPlayer:isPlayerTwoAI&&selectedOnePlayerGameVariant===_0x2efec0(0x19a)?_0x2efec0(0x198)+currentPlayer:_0x2efec0(0x24a);if(isManualControl&&isPlayerTwoAI&&selectedGameMode==='normal'&&currentPlayer===0x2)_0x3391bc=_0x2efec0(0x16b);}}else{if(introStep===0x2)_0x3391bc=_0x2efec0(0x1ce)+level;else introStep===0x3&&(_0x3391bc=_0x2efec0(0x1f1),_0x42552a=INTRO_TEXT_COLOR_CS_TEXT,!csIntroSoundPlayed&&(playSound(_0x2efec0(0x1be),![],0.4),csIntroSoundPlayed=!![]));}_0x3391bc&&(drawCanvasText(_0x3391bc,_0x2f0c6c,_0x54d8a0,INTRO_TEXT_FONT,_0x42552a,_0x2efec0(0x21b),_0x2efec0(0x227),!![]),_0x4b9fac=!![]);}else showReadyMessage&&(drawCanvasText('READY?',_0x2f0c6c,_0x54d8a0,INTRO_TEXT_FONT,READY_TEXT_COLOR,_0x2efec0(0x21b),'middle',!![]),_0x4b9fac=!![]);}}}}gameCtx[_0x2efec0(0x18a)]();}else{if(isShowingPlayerGameOverMessage&&selectedGameMode==='normal'){const _0x3006ca=isPlayerTwoAI&&playerWhoIsGameOver===0x2?_0x2efec0(0x16b):'PLAYER\x20'+playerWhoIsGameOver,_0x27a4bd=RESULTS_LINE_V_SPACING_SINGLE,_0x25a650=gameCanvas['height']*0.45;drawCanvasText(_0x3006ca,gameCanvas[_0x2efec0(0x23a)]/0x2,_0x25a650-_0x27a4bd/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x2efec0(0x21b),_0x2efec0(0x227),!![]),drawCanvasText(_0x2efec0(0x230),gameCanvas[_0x2efec0(0x23a)]/0x2,_0x25a650+_0x27a4bd/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,'center',_0x2efec0(0x227),!![]);}else{if(gameOverSequenceStartTime>0x0){const _0x306476=_0x4dea07-gameOverSequenceStartTime,_0x114a29=_0x306476<GAME_OVER_DURATION,_0x4259b1=_0x306476>=GAME_OVER_DURATION;if(_0x114a29&&!isTwoPlayerMode&&!isCoopAIDemoActive&&!isPlayerTwoAI&&selectedGameMode!==_0x2efec0(0x1e3))drawCanvasText('GAME\x20OVER',gameCanvas['width']/0x2,gameCanvas[_0x2efec0(0x1e6)]/0x2,GAME_OVER_FONT,GAME_OVER_COLOR,_0x2efec0(0x21b),'middle',GAME_OVER_SHADOW);else{if(_0x114a29&&isCoopAIDemoActive&&player1Lives<=0x0&&player2Lives<=0x0)drawCanvasText(_0x2efec0(0x230),gameCanvas['width']/0x2,gameCanvas[_0x2efec0(0x1e6)]/0x2,GAME_OVER_FONT,GAME_OVER_COLOR,_0x2efec0(0x21b),_0x2efec0(0x227),GAME_OVER_SHADOW);else{if(_0x4259b1){gameCtx[_0x2efec0(0x1c6)]();const _0x14bece=gameCanvas['width']/0x2,_0x3809d3=gameCanvas[_0x2efec0(0x23a)];let _0x193416=RESULTS_START_Y+RESULTS_LINE_V_SPACING_SINGLE;const _0x483928=(_0x4b4284,_0x3801a1,_0x2d41f3,_0x587d67,_0x55697f,_0x3d102f,_0x1f0c73,_0x18331b)=>{const _0x25318b=_0x2efec0;let _0x438454=_0x18331b;const _0x48e1e8=RESULTS_VALUE_COLOR_YELLOW,_0x1e25c7=RESULTS_VALUE_COLOR_CYAN;drawCanvasText(_0x25318b(0x1eb),_0x1f0c73,_0x438454,INTRO_TEXT_FONT,RESULTS_HEADER_COLOR,_0x25318b(0x21b),'top',!![]),_0x438454+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x4b4284,_0x1f0c73,_0x438454,INTRO_TEXT_FONT,'white',_0x25318b(0x21b),_0x25318b(0x227),![]),_0x438454+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x25318b(0x1fb),_0x1f0c73,_0x438454,INTRO_TEXT_FONT,_0x48e1e8,_0x25318b(0x21b),'middle',![]),_0x438454+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x3d102f['toString'](),_0x1f0c73,_0x438454,INTRO_TEXT_FONT,_0x1e25c7,_0x25318b(0x21b),_0x25318b(0x227),![]),_0x438454+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x25318b(0x23d),_0x1f0c73,_0x438454,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x25318b(0x21b),_0x25318b(0x227),![]),_0x438454+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x3801a1[_0x25318b(0x197)](),_0x1f0c73,_0x438454,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,'center',_0x25318b(0x227),![]),_0x438454+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText('SHOTS\x20FIRED',_0x1f0c73,_0x438454,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x25318b(0x21b),'middle',![]),_0x438454+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x2d41f3['toString'](),_0x1f0c73,_0x438454,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x25318b(0x21b),_0x25318b(0x227),![]),_0x438454+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x25318b(0x19f),_0x1f0c73,_0x438454,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x25318b(0x21b),_0x25318b(0x227),![]),_0x438454+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x587d67[_0x25318b(0x197)](),_0x1f0c73,_0x438454,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x25318b(0x21b),_0x25318b(0x227),![]),_0x438454+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText('HIT-MISS-RATIO',_0x1f0c73,_0x438454,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x25318b(0x21b),_0x25318b(0x227),![]),_0x438454+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x55697f,_0x1f0c73,_0x438454,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x25318b(0x21b),_0x25318b(0x227),![]),_0x438454+=RESULTS_LINE_V_SPACING_SINGLE*1.5-0xa,drawCanvasText('Platini2000(c)\x20LTD',_0x1f0c73,_0x438454,RESULTS_FOOTER_FONT,RESULTS_FOOTER_COLOR,_0x25318b(0x21b),_0x25318b(0x227),![]);};if(isTwoPlayerMode||wasLastGameAIDemo&&isPlayerTwoAI){const _0x5212b9=player1ShotsFired||0x0,_0x8a4f17=player1EnemiesHit||0x0,_0x30aafc=_0x5212b9>0x0?Math[_0x2efec0(0x15f)](_0x8a4f17/_0x5212b9*0x64)+'%':'0%',_0x2edcd3=player2ShotsFired||0x0,_0x3484fc=player2EnemiesHit||0x0,_0x36692d=_0x2edcd3>0x0?Math['round'](_0x3484fc/_0x2edcd3*0x64)+'%':'0%',_0x3a5f9e=_0x3809d3*0.4,_0x4fda8b=_0x3809d3*0.1,_0x56cec2=_0x14bece-_0x4fda8b/0x2-_0x3a5f9e/0x2+_0x3a5f9e*0.1,_0x4e02c6=_0x14bece+_0x4fda8b/0x2+_0x3a5f9e/0x2-_0x3a5f9e*0.1,_0x1fcccc=isCoopAIDemoActive&&wasLastGameAIDemo?_0x2efec0(0x221):_0x2efec0(0x24a);let _0x4c5926=_0x2efec0(0x24b);if(isCoopAIDemoActive&&wasLastGameAIDemo)_0x4c5926=_0x2efec0(0x16b);else{if(isPlayerTwoAI&&wasLastGameAIDemo)_0x4c5926=_0x2efec0(0x16b);else{if(isPlayerTwoAI&&!wasLastGameAIDemo)_0x4c5926=_0x2efec0(0x16b);}}_0x483928(_0x1fcccc,player1Score,_0x5212b9,_0x8a4f17,_0x30aafc,player1MaxLevelReached,_0x56cec2,_0x193416),_0x483928(_0x4c5926,player2Score,_0x2edcd3,_0x3484fc,_0x36692d,player2MaxLevelReached,_0x4e02c6,_0x193416);let _0x756380=0x0,_0x9550ad='';if(player1Score>player2Score)_0x756380=0x1,_0x9550ad=_0x1fcccc;else player2Score>player1Score&&(_0x756380=0x2,_0x9550ad=_0x4c5926);if(_0x756380>0x0){let _0x3ebd3b=_0x193416+getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE*0x2;drawCanvasText(_0x9550ad,_0x14bece,_0x3ebd3b,INTRO_TEXT_FONT,_0x2efec0(0x1ee),_0x2efec0(0x21b),'middle',!![]),drawCanvasText(_0x2efec0(0x1b4),_0x14bece,_0x3ebd3b+RESULTS_LINE_V_SPACING_SINGLE,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x2efec0(0x21b),_0x2efec0(0x227),!![]);}}else{const _0x4d6bc7=player1ShotsFired||0x0,_0x1140f1=player1EnemiesHit||0x0,_0x524abd=!isManualControl&&wasLastGameAIDemo&&!isCoopAIDemoActive&&!isPlayerTwoAI?score:player1Score,_0x4f021e=!isManualControl&&wasLastGameAIDemo&&!isCoopAIDemoActive&&!isPlayerTwoAI?level:player1MaxLevelReached,_0x58cc36=_0x4d6bc7>0x0?Math[_0x2efec0(0x15f)](_0x1140f1/_0x4d6bc7*0x64)+'%':'0%',_0x523b89=!isManualControl&&wasLastGameAIDemo&&!isCoopAIDemoActive&&!isPlayerTwoAI?_0x2efec0(0x216):_0x2efec0(0x24a);_0x483928(_0x523b89,_0x524abd,_0x4d6bc7,_0x1140f1,_0x58cc36,_0x4f021e,_0x14bece,_0x193416);}gameCtx[_0x2efec0(0x18a)]();}}}}}}}}catch(_0x524e80){console[_0x2efec0(0x21d)](_0x2efec0(0x238),_0x524e80,_0x524e80[_0x2efec0(0x165)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;try{gameCtx&&gameCanvas&&(gameCtx[_0x2efec0(0x245)]=_0x2efec0(0x18d),gameCtx[_0x2efec0(0x1d3)]=_0x2efec0(0x254),gameCtx[_0x2efec0(0x23f)]=_0x2efec0(0x21b),gameCtx[_0x2efec0(0x1d7)](_0x2efec0(0x200),gameCanvas['width']/0x2,gameCanvas[_0x2efec0(0x1e6)]/0x2));}catch(_0x3ef8b7){}try{showMenuState();}catch(_0x45eaa0){}}}function hideCursor(){const _0x355387=_0x35d30c;gameCanvas&&(gameCanvas['style']['cursor']=_0x355387(0x170)),mouseIdleTimerId=null;}function handleCanvasMouseMove(_0x39b280){const _0x29ae96=_0x35d30c;if(!gameCanvas)return;if(isTouchActiveGame&&isInGameState)return;clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;let _0x3fa60a='default';const _0x41b231=!isInGameState&&!isShowingScoreScreen;_0x41b231?(typeof handleCanvasTouch===_0x29ae96(0x20c)&&handleCanvasTouch(_0x39b280,'move'),selectedButtonIndex!==-0x1&&(_0x3fa60a=_0x29ae96(0x20f))):selectedButtonIndex=-0x1;gameCanvas[_0x29ae96(0x240)][_0x29ae96(0x185)]=_0x3fa60a,mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(!isInGameState){const _0xed5609=Date[_0x29ae96(0x1ae)]();_0xed5609-lastMouseMoveResetTime>0x1f4&&(typeof startAutoDemoTimer===_0x29ae96(0x20c)&&selectedButtonIndex===-0x1&&startAutoDemoTimer(),lastMouseMoveResetTime=_0xed5609);}}function mainLoop(_0x16c4f7){const _0x274dcb=_0x35d30c;try{drawStars();retroGridCtx&&retroGridCanvas&&drawRetroGrid();pollControllerForMenu();if(isInGameState&&!isPaused&&!isShowingPortraitMessage){if(!isManualControl&&connectedGamepadIndex!==null){const _0xc4307e=navigator[_0x274dcb(0x22f)]();if(_0xc4307e?.[connectedGamepadIndex]){const _0x58ac61=_0xc4307e[connectedGamepadIndex],_0x448297=_0x58ac61[_0x274dcb(0x1df)][_0x274dcb(0x1d1)](_0x4b0762=>_0x4b0762[_0x274dcb(0x213)]);let _0x2a60e4=![];for(let _0x5884fe=0x0;_0x5884fe<_0x448297[_0x274dcb(0x1e1)];_0x5884fe++){if(_0x5884fe===PS5_BUTTON_R1||_0x5884fe===PS5_BUTTON_TRIANGLE)continue;if(_0x448297[_0x5884fe]&&!(previousDemoButtonStates[_0x5884fe]??![])){_0x2a60e4=!![];break;}}if(_0x2a60e4){isCoopAIDemoActive=![],isPlayerTwoAI=![],showMenuState(),requestAnimationFrame(mainLoop);return;}previousDemoButtonStates=_0x448297[_0x274dcb(0x236)]();}else{if(previousDemoButtonStates[_0x274dcb(0x1e1)]>0x0)previousDemoButtonStates=[];}}else{if(previousDemoButtonStates['length']>0x0)previousDemoButtonStates=[];}if(typeof window[_0x274dcb(0x233)]===_0x274dcb(0x20c))window[_0x274dcb(0x233)](_0x16c4f7);else{console[_0x274dcb(0x21d)](_0x274dcb(0x1a4));if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,showMenuState(),requestAnimationFrame(mainLoop);return;}if(gameOverSequenceStartTime>0x0){const _0x1c654a=Date['now'](),_0x31f0cc=_0x1c654a-gameOverSequenceStartTime,_0x1fc07d=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x31f0cc>=_0x1fc07d){showMenuState(),requestAnimationFrame(mainLoop);return;}}}else{if(isShowingScoreScreen&&!isShowingPortraitMessage)typeof renderGame===_0x274dcb(0x20c)&&renderGame();else{if(isInGameState&&gameOverSequenceStartTime>0x0&&!isShowingPortraitMessage){typeof renderGame===_0x274dcb(0x20c)&&renderGame();const _0x9a5ca2=Date['now'](),_0x3216d6=_0x9a5ca2-gameOverSequenceStartTime,_0x538ef5=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x3216d6>=_0x538ef5){showMenuState(),requestAnimationFrame(mainLoop);return;}}else{if(isInGameState&&(isPaused||isShowingPortraitMessage))typeof renderGame===_0x274dcb(0x20c)&&renderGame();else{if(isInGameState&&isCsCompletionDelayActive&&!isShowingPortraitMessage){if(typeof window[_0x274dcb(0x233)]===_0x274dcb(0x20c))window['runSingleGameUpdate'](_0x16c4f7);else{if(typeof renderGame===_0x274dcb(0x20c))renderGame();}}else{if(isInGameState&&(isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage)&&!isShowingPortraitMessage){if(typeof window['runSingleGameUpdate']===_0x274dcb(0x20c))window[_0x274dcb(0x233)](_0x16c4f7);else{if(typeof renderGame===_0x274dcb(0x20c))renderGame();}}else typeof renderGame===_0x274dcb(0x20c)&&renderGame();}}}}}mainLoopId=requestAnimationFrame(mainLoop);}catch(_0x3bba43){console[_0x274dcb(0x21d)](_0x274dcb(0x1cb),_0x3bba43,_0x3bba43[_0x274dcb(0x165)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,isPaused=![],stopAllGameSoundsInternal(),isGridSoundPlaying=![];try{showMenuState();}catch(_0x2c36f6){console['error'](_0x274dcb(0x17a),_0x2c36f6),document['body'][_0x274dcb(0x15a)]='<p\x20style=\x22color:white;\x22>CRITICAL\x20LOOP\x20ERROR.\x20Please\x20refresh.</p>';}}}function startMainLoop(){if(mainLoopId===null)gridOffsetY=0x0,mainLoop();else{}}function initializeGame(){const _0x3e9d03=_0x35d30c;try{if(typeof initializeDOMElements===_0x3e9d03(0x20c)){if(!initializeDOMElements()){console['error'](_0x3e9d03(0x1ac));return;}}else{console['error'](_0x3e9d03(0x172));return;}if(typeof window['loadHighScore']===_0x3e9d03(0x20c))window[_0x3e9d03(0x25b)]();else{if(typeof loadHighScore===_0x3e9d03(0x20c))loadHighScore();else console[_0x3e9d03(0x1c8)]('loadHighScore\x20function\x20not\x20found.');}if(typeof window[_0x3e9d03(0x1e4)]==='function')window['defineNormalWaveEntrancePaths']();else{if(typeof defineNormalWaveEntrancePaths===_0x3e9d03(0x20c))defineNormalWaveEntrancePaths();else console['error'](_0x3e9d03(0x226));}if(typeof window[_0x3e9d03(0x25c)]==='function')window[_0x3e9d03(0x25c)]();else{if(typeof defineChallengingStagePaths===_0x3e9d03(0x20c))defineChallengingStagePaths();else console[_0x3e9d03(0x21d)](_0x3e9d03(0x1b5));}window[_0x3e9d03(0x24e)]('keydown',handleKeyDown),window[_0x3e9d03(0x24e)](_0x3e9d03(0x16c),handleKeyUp);gameCanvas?(gameCanvas['addEventListener'](_0x3e9d03(0x1e9),handleCanvasClick),gameCanvas['addEventListener']('mousemove',handleCanvasMouseMove)):console[_0x3e9d03(0x21d)]('Cannot\x20add\x20canvas\x20listeners:\x20gameCanvas\x20not\x20found\x20during\x20init.');window[_0x3e9d03(0x24e)](_0x3e9d03(0x1b9),handleGamepadConnected),window[_0x3e9d03(0x24e)](_0x3e9d03(0x1ad),handleGamepadDisconnected),window[_0x3e9d03(0x24e)](_0x3e9d03(0x183),resizeCanvases),showMenuState();if(typeof resizeCanvases==='function')resizeCanvases();else console[_0x3e9d03(0x21d)]('resizeCanvases\x20not\x20found!');startMainLoop();}catch(_0x4f26c1){console[_0x3e9d03(0x21d)](_0x3e9d03(0x17d),_0x4f26c1,_0x4f26c1[_0x3e9d03(0x165)]),document[_0x3e9d03(0x1b8)][_0x3e9d03(0x15a)]=_0x3e9d03(0x1b0)+_0x4f26c1[_0x3e9d03(0x1ca)]+_0x3e9d03(0x241),mainLoopId&&(cancelAnimationFrame(mainLoopId),mainLoopId=null);}}window[_0x35d30c(0x24e)](_0x35d30c(0x15d),initializeGame);